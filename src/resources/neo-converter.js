(()=>{"use strict";var n={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},d:(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)};const t=jQuery;var e=n.n(t);const r=Craft;var o=n.n(r);const i=Garnish;var a=n.n(i);function s(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"==typeof n)return l(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return l(n,t)}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){s=!0,i=n},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw i}}}}function l(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var c=e()("#type"),u=e()('input[name="fieldId"]');if("benf\\neo\\Field"===c.val()&&u.length>0){var f=o().cp.$primaryForm,d=f.find('input[type="submit"]'),v=e()("#Matrix-convert_button"),p=e()("#Matrix-convert_spinner"),y=!0,b=function(n){y=!!n,v.toggleClass("disabled",!y),d.toggleClass("disabled",!y),y?f.off("submit.neo"):f.on("submit.neo",(function(n){return n.preventDefault()}))};new window.MutationObserver((function(){var n=e()("#craft-fields-Matrix");n.find("#conversion-prompt").length>0||(n.prepend('\n      <div id="conversion-prompt">\n        <div class="field">\n          <div class="heading">\n            <label>'.concat(o().t("neo","Convert from Neo"),'</label>\n            <div class="instructions"><p>').concat(o().t("neo","This field is currently of the Neo type. You may automatically convert it to Matrix along with all of its content."),'</p></div>\n          </div>\n          <div class="input ltr">\n            <input id="Matrix-convert_button" type="button" class="btn submit" value="').concat(o().t("neo","Convert"),'">\n            <span id="Matrix-convert_spinner" class="spinner hidden"></span>\n          </div>\n          <p class="warning">').concat(o().t("neo","By converting to Matrix, structural information will be lost."),"</p>\n        </div>\n      </div>\n      <hr>\n    ")),v=e()("#Matrix-convert_button"),p=e()("#Matrix-convert_spinner"),v.on("click",(function(n){n.preventDefault(),y&&window.confirm(o().t("neo","Are you sure? This is a one way operation. You cannot undo conversion from Neo to Matrix."))&&(b(!1),p.removeClass("hidden"),o().postActionRequest("neo/conversion/convert-to-matrix",{fieldId:u.val()},(function(n,t){if(n.success)o().cp.removeListener(a().$win,"beforeunload"),window.location.reload();else if(b(!0),o().cp.displayError(o().t("neo","Could not convert Neo field to Matrix")),n.errors&&n.errors.length>0){var e,r=s(n.errors);try{for(r.s();!(e=r.n()).done;){var i=e.value;o().cp.displayError(i)}}catch(n){r.e(n)}finally{r.f()}}})))})))})).observe(document.getElementById("settings"),{childList:!0,subtree:!0})}})();
!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=i(1),a=r(n),s="undefined"!=typeof window?window:void 0,o=[];s.Neo={Configurator:a.default,configurators:o,createConfigurator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new a.default(e);return o.push(t),t}}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),s=r(a);i(3);var o=i(4),p=r(o),l=i(5),c=r(l),u=i(6),y=r(u),d=i(7),h=r(d),g=i(9),f=r(g),m=i(19),v=r(m),x=i(20),w=r(x),b=i(21),k=r(b);i(22);var T={namespace:[],blockTypes:[],groups:[],fieldLayoutHtml:""};t.default=p.default.Base.extend({_templateNs:[],_items:[],init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({},T,t);var i=c.default.formatInputId(t.namespace),r=(0,s.default)("#"+i+"-neo-configurator"),a=r.children(".field").children(".input");this._templateNs=y.default.parse(t.namespace),this._fieldLayoutHtml=t.fieldLayoutHtml,this._items=[],this.$container=this._generateConfigurator(),a.append(this.$container);var o=this.$container.find("[data-neo]");this.$mainContainer=o.filter('[data-neo="container.main"]'),this.$sidebarContainer=o.filter('[data-neo="container.sidebar"]'),this.$blockTypesContainer=o.filter('[data-neo="container.blockTypes"]'),this.$settingsContainer=o.filter('[data-neo="container.settings"]'),this.$fieldLayoutContainer=o.filter('[data-neo="container.fieldLayout"]'),this.$blockTypeButton=o.filter('[data-neo="button.blockType"]'),this.$groupButton=o.filter('[data-neo="button.group"]'),this.$settingsButton=o.filter('[data-neo="button.settings"]'),this.$fieldLayoutButton=o.filter('[data-neo="button.fieldLayout"]'),this._itemSort=new p.default.DragSort(null,{container:this.$blockTypeItemsContainer,handle:'[data-neo-bt="button.move"], [data-neo-g="button.move"]',axis:"y",onSortChange:function(){return e._updateItemOrder()}});var l=[],u=[].concat(n(this._templateNs),["blockTypes"]),d=[].concat(n(this._templateNs),["groups"]),g=!0,m=!1,x=void 0;try{for(var b,_=function(){var t=b.value,i=new f.default({namespace:[].concat(n(u),[t.id]),sortOrder:t.sortOrder,id:t.id,name:t.name,handle:t.handle,maxBlocks:t.maxBlocks,maxSiblingBlocks:t.maxSiblingBlocks,maxChildBlocks:t.maxChildBlocks,topLevel:t.topLevel,errors:t.errors,childBlockTypes:l.filter(function(e){return e instanceof h.default})}),r=new v.default({namespace:[].concat(n(u),[t.id]),html:e._fieldLayoutHtml,layout:t.fieldLayout,id:t.fieldLayoutId,blockTypeId:t.id}),a=new h.default({namespace:u,settings:i,fieldLayout:r});window.localStorage.getItem("neo:copyBlockType")&&a.$actionsMenu.find('[data-action="paste"]').parent().removeClass("disabled"),a.on("copy.configurator",function(){return e._copyBlockType(a)}),a.on("paste.configurator",function(){return e._pasteBlockType()}),a.on("clone.configurator",function(){return e._createBlockTypeFrom(a)}),l.push(a)},B=t.blockTypes[Symbol.iterator]();!(g=(b=B.next()).done);g=!0)_()}catch(e){m=!0,x=e}finally{try{!g&&B.return&&B.return()}finally{if(m)throw x}}var L=!0,S=!1,$=void 0;try{for(var C,O=t.groups[Symbol.iterator]();!(L=(C=O.next()).done);L=!0){var j=C.value,N=new k.default({namespace:[].concat(n(d),[j.id]),sortOrder:j.sortOrder,id:j.id,name:j.name}),I=new w.default({namespace:d,settings:N});l.push(I)}}catch(e){S=!0,$=e}finally{try{!L&&O.return&&O.return()}finally{if(S)throw $}}var M=!0,E=!1,A=void 0;try{for(var F,D=l.sort(function(e,t){return e.getSettings().getSortOrder()-t.getSettings().getSortOrder()})[Symbol.iterator]();!(M=(F=D.next()).done);M=!0){var P=F.value;this.addItem(P)}}catch(e){E=!0,A=e}finally{try{!M&&D.return&&D.return()}finally{if(E)throw A}}var z=!0,U=!1,R=void 0;try{for(var H,V=function(){var e=H.value,i=e.getSettings(),r=t.blockTypes.find(function(e){return e.handle===i.getHandle()});i.setChildBlocks(r.childBlocks)},Z=this.getBlockTypes()[Symbol.iterator]();!(z=(H=Z.next()).done);z=!0)V()}catch(e){U=!0,R=e}finally{try{!z&&Z.return&&Z.return()}finally{if(U)throw R}}this.selectTab("settings"),this.addListener(this.$blockTypeButton,"click","@newBlockType"),this.addListener(this.$groupButton,"click","@newGroup"),this.addListener(this.$settingsButton,"click",function(){return e.selectTab("settings")}),this.addListener(this.$fieldLayoutButton,"click",function(){return e.selectTab("fieldLayout")})},_generateConfigurator:function(){return(0,s.default)('\n      <div class="nc_sidebar" data-neo="container.sidebar">\n        <div class="nc_sidebar_title">'+c.default.t("neo","Block Types")+'</div>\n        <div class="nc_sidebar_list" data-neo="container.blockTypes"></div>\n        <div class="nc_sidebar_buttons btngroup">\n          <a class="btn add icon" role="button" data-neo="button.blockType">'+c.default.t("neo","Block type")+'</a>\n          <a class="btn type-heading" role="button" data-neo="button.group">'+c.default.t("neo","Group")+'</a>\n        </div>\n      </div>\n      <div class="nc_main" data-neo="container.main">\n        <div class="nc_main_tabs">\n          <a class="nc_main_tabs_tab is-selected" role="button" data-neo="button.settings">'+c.default.t("neo","Settings")+'</a>\n          <a class="nc_main_tabs_tab" role="button" data-neo="button.fieldLayout">'+c.default.t("neo","Field Layout")+'</a>\n        </div>\n        <div class="nc_main_content" data-neo="container.settings"></div>\n        <div class="nc_main_content" data-neo="container.fieldLayout"></div>\n      </div>')},addItem:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=e.getSettings();if(i>=0&&i<this._items.length?e.$container.insertAt(i,this.$blockTypesContainer):this.$blockTypesContainer.append(e.$container),this._itemSort.addItems(e.$container),r&&this.$settingsContainer.append(r.$container),this.$mainContainer.removeClass("hidden"),this.addListener(e.$container,"click","@selectItem"),e.on("destroy.configurator",function(){return t.removeItem(e,!1)}),e instanceof h.default){var n=e.getFieldLayout();n&&this.$fieldLayoutContainer.append(n.$container)}if(this._items.push(e),this._updateItemOrder(),e instanceof h.default){var a=!0,s=!1,o=void 0;try{for(var p,l=this.getBlockTypes()[Symbol.iterator]();!(a=(p=l.next()).done);a=!0){var c=p.value,u=c.getSettings();u&&u.addChildBlockType(e)}}catch(e){s=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw o}}}this.trigger("addItem",{item:e,index:i})},removeItem:function(e,t){if(t="boolean"==typeof t&&t){var i=c.default.t("neo","Are you sure you want to delete this {type}?",{type:e instanceof h.default?"block type":e instanceof w.default?"group":"item"});window.confirm(i)&&this.removeItem(e,!1)}else{var r=e.getSettings();if(this._itemSort.removeItems(e.$container),e.$container.remove(),r&&r.$container.remove(),e instanceof h.default){var n=e.getFieldLayout();n&&n.$container.remove()}this.removeListener(e.$container,"click"),e.off(".configurator"),this._updateItemOrder(),0===this._items.length&&this.$mainContainer.addClass("hidden"),this.trigger("removeItem",{item:e})}},getItems:function(){return Array.from(this._items)},getItemByElement:function(e){return this._items.find(function(t){return t.$container.is(e)})},getSelectedItem:function(){return this._items.find(function(e){return e.isSelected()})},selectItem:function(e,t){t="boolean"!=typeof t||t;var i=e?e.getSettings():null,r=!0,n=!1,a=void 0;try{for(var s,o=this._items[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value,c=l===e;l.toggleSelect(c),c&&this.toggleFieldLayoutTabVisibility(l instanceof h.default)}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}t&&i&&!p.default.isMobileBrowser()&&setTimeout(function(){return i.getFocusInput().focus()},100)},getBlockTypes:function(){return this._items.filter(function(e){return e instanceof h.default})},getGroups:function(){return this._items.filter(function(e){return e instanceof w.default})},selectTab:function(e){this.$settingsContainer.toggleClass("hidden","settings"!==e),this.$fieldLayoutContainer.toggleClass("hidden","fieldLayout"!==e),this.$settingsButton.toggleClass("is-selected","settings"===e),this.$fieldLayoutButton.toggleClass("is-selected","fieldLayout"===e)},toggleFieldLayoutTabVisibility:function(e){e||this.selectTab("settings"),this.$fieldLayoutButton.toggleClass("hidden",!e)},_updateItemOrder:function(){var e=this,t=[];this._itemSort.$items.each(function(i,r){var n=e.getItemByElement(r);if(n){var a=n.getSettings();a&&a.setSortOrder(i+1),t.push(n)}}),this._items=t},_createBlockTypeFrom:function(e){var t=this,i=[].concat(n(this._templateNs),["blockTypes"]),r=f.default.getNewId(),a=e?e.getSettings():null,s=a?new f.default({childBlocks:a.getChildBlocks(),childBlockTypes:this.getBlockTypes(),handle:a.getHandle()+"_"+Date.now(),id:r,maxBlocks:a.getMaxBlocks(),maxChildBlocks:a.getMaxChildBlocks(),maxSiblingBlocks:a.getMaxSiblingBlocks(),name:a.getName(),namespace:[].concat(n(i),[r]),sortOrder:this._items.length,topLevel:a.getTopLevel()}):new f.default({childBlockTypes:this.getBlockTypes(),id:r,namespace:[].concat(n(i),[r]),sortOrder:this._items.length}),o=new v.default({blockTypeId:r,html:this._fieldLayoutHtml,layout:e?e.getFieldLayout().getLayoutStructure():[],namespace:[].concat(n(i),[r])}),p=new h.default({namespace:i,settings:s,fieldLayout:o}),l=this.getSelectedItem(),c=l?l.getSettings().getSortOrder():-1;this.addItem(p,c),this.selectItem(p),p.on("copy.configurator",function(){return t._copyBlockType(p)}),p.on("paste.configurator",function(){return t._pasteBlockType()}),p.on("clone.configurator",function(){return t._createBlockTypeFrom(p)})},_copyBlockType:function(e){var t=e.getSettings(),i={childBlocks:t.getChildBlocks(),handle:t.getHandle(),layout:e.getFieldLayout().getLayoutStructure(),maxBlocks:t.getMaxBlocks(),maxChildBlocks:t.getMaxChildBlocks(),maxSiblingBlocks:t.getMaxSiblingBlocks(),name:t.getName(),topLevel:t.getTopLevel()};window.localStorage.setItem("neo:copyBlockType",JSON.stringify(i)),this.getBlockTypes().forEach(function(e){return e.$actionsMenu.find('[data-action="paste"]').parent().removeClass("disabled")})},_pasteBlockType:function(){var e=this,t=window.localStorage.getItem("neo:copyBlockType");if(t){var i=JSON.parse(t),r=i.childBlocks?i.childBlocks.filter(function(t){return e.getBlockTypes().map(function(e){return e.getSettings().getHandle()}).includes(t)}):[],n=new f.default({childBlocks:r,childBlockTypes:this.getBlockTypes(),handle:i.handle,maxBlocks:i.maxBlocks,maxChildBlocks:i.maxChildBlocks,maxSiblingBlocks:i.maxSiblingBlocks,name:i.name,topLevel:i.topLevel}),a=new v.default({html:this._fieldLayoutHtml,layout:i.layout}),s=new h.default({settings:n,fieldLayout:a});this._createBlockTypeFrom(s)}},"@newBlockType":function(){this._createBlockTypeFrom(null)},"@newGroup":function(){var e=[].concat(n(this._templateNs),["groups"]),t=k.default.getNewId(),i=new k.default({namespace:[].concat(n(e),[t]),sortOrder:this._items.length,id:t}),r=new w.default({namespace:e,settings:i}),a=this.getSelectedItem(),s=a?a.getSettings().getSortOrder():-1;this.addItem(r,s),this.selectItem(r)},"@selectItem":function(e){var t=this.getItemByElement(e.currentTarget);this.selectItem(t)}})},function(e,t){e.exports=jQuery},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=i(2),a=r(n);a.default.fn.insertAt=function(e,t){return this.each(function(){0===e?t.prepend(this):t.children().eq(e-1).after(this)})}},function(e,t){e.exports=Garnish},function(e,t){e.exports=Craft},function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={_stack:[[]],enter:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("string"==typeof e&&(e=this.fromFieldName(e)),t){var r=this.getNamespace();r.push.apply(r,i(e)),e=r}this._stack.push(e)},enterByFieldName:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.enter(this.fromFieldName(e),t)},leave:function(){return this._stack.length>1?this._stack.pop():this.getNamespace()},getNamespace:function(){return Array.from(this._stack[this._stack.length-1])},parse:function(e){return"string"==typeof e?e.indexOf("[")>-1?this.fromFieldName(e):e.indexOf("-")>-1?e.split("-"):e.indexOf(".")>-1?e.split("."):e:Array.from(e)},value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",i=this.getNamespace();return i.push(e),i.join(t)},fieldName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.toFieldName();return t?t+e.replace(/([^'"[\]]+)([^'"]*)/,"[$1]$2"):e},toString:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-";return this.getNamespace().join(e)},toFieldName:function(){var e=this.getNamespace();switch(e.length){case 0:return"";case 1:return e[0]}return e[0]+"["+e.slice(1).join("][")+"]"},fromFieldName:function(e){return e.match(/[^[\]\s]+/g)||[]}}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),s=i(5),o=r(s),p=i(4),l=r(p),c=i(8),u=r(c),y=i(6),d=r(y),h={namespace:[],fieldLayout:null};t.default=u.default.extend({_templateNs:[],init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.base(t);var i=this.getSettings();t=Object.assign({},h,t),this._templateNs=d.default.parse(t.namespace),this._fieldLayout=t.fieldLayout,this.$container=this._generateBlockType(i);var r=this.$container.find("[data-neo-bt]");this.$nameText=r.filter('[data-neo-bt="text.name"]'),this.$moveButton=r.filter('[data-neo-bt="button.move"]'),this.$actionsButton=r.filter('[data-neo-bt="button.actions"]'),this.$actionsMenu=r.filter('[data-neo-bt="container.menu"]'),this._actionsMenu=new l.default.MenuBtn(this.$actionsButton),this._actionsMenu.on("optionSelect",function(t){return e["@actionSelect"](t)}),this.addListener(this.$actionsButton,"click",function(e){return e.stopPropagation()}),i&&(i.on("change",function(){return e._updateTemplate()}),i.on("destroy",function(){return e.trigger("destroy")}),this._updateTemplate()),this.deselect()},_generateBlockType:function(e){return(0,a.default)('\n      <div class="nc_sidebar_list_item'+(e.getErrors().length>0?" has-errors":"")+'">\n        <div class="label" data-neo-bt="text.name">'+e.getName()+'</div>\n        <a class="move icon" title="'+o.default.t("neo","Reorder")+'" role="button" data-neo-bt="button.move"></a>\n        <a class="settings icon menubtn" title="'+o.default.t("neo","Actions")+'" role="button" data-neo-bt="button.actions"></a>\n        <div class="menu" data-neo-bt="container.menu">\n          <ul class="padded">\n            <li><a data-icon="field" data-action="copy">'+o.default.t("neo","Copy")+'</a></li>\n            <li class="disabled"><a data-icon="brush" data-action="paste">'+o.default.t("neo","Paste")+'</a></li>\n            <li><a data-icon="share" data-action="clone">'+o.default.t("neo","Clone")+'</a></li>\n            <li><a class="error" data-icon="remove" data-action="delete">'+o.default.t("neo","Delete")+"</a></li>\n          </ul>\n        </div>\n      </div>")},getFieldLayout:function(){return this._fieldLayout},toggleSelect:function(e){this.base(e);var t=this.getSettings(),i=this.getFieldLayout(),r=this.isSelected();t&&t.$container.toggleClass("hidden",!r),i&&i.$container.toggleClass("hidden",!r),this.$container.toggleClass("is-selected",r)},_updateTemplate:function(){var e=this.getSettings(),t=this.getFieldLayout();e&&(this.$nameText.text(e.getName()),this.$container.toggleClass("is-child",!e.getTopLevel()),t&&t.setBlockName(e.getName()))},"@actionSelect":function(e){var t=(0,a.default)(e.option);if(!t.hasClass("disabled"))switch(t.attr("data-action")){case"copy":this.trigger("copy");break;case"paste":this.trigger("paste");break;case"clone":this.trigger("clone");break;case"delete":window.confirm(o.default.t("neo","Are you sure you want to delete this block type?"))&&this.getSettings().destroy()}}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),a=r(n),s={settings:null};t.default=a.default.Base.extend({_selected:!1,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({},s,e),this._settings=e.settings},getSettings:function(){return this._settings},select:function(){this.toggleSelect(!0)},deselect:function(){this.toggleSelect(!1)},toggleSelect:function(e){this._selected="boolean"==typeof e?e:!this._selected,this.trigger("toggleSelect",{selected:this._selected})},isSelected:function(){return this._selected}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),s=i(5),o=r(s),p=i(4),l=r(p),c=i(6),u=r(c),y=i(10),d=r(y),h=i(11),g=r(h);i(18);var f={namespace:[],id:null,sortOrder:0,name:"",handle:"",maxBlocks:0,maxSiblingBlocks:0,maxChildBlocks:0,topLevel:!0,childBlocks:null,childBlockTypes:[],errors:{}};t.default=d.default.extend({_templateNs:[],_childBlockTypes:[],$sortOrderInput:new a.default,$nameInput:new a.default,$handleInput:new a.default,$maxBlocksInput:new a.default,$maxSiblingBlocksInput:new a.default,$maxChildBlocksInput:new a.default,init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({},f,t),this._templateNs=u.default.parse(t.namespace),this._childBlockTypes=[],this._id=t.id,this._errors=t.errors,this.setSortOrder(t.sortOrder),this.setName(t.name),this.setHandle(t.handle),this.setMaxBlocks(t.maxBlocks),this.setMaxSiblingBlocks(t.maxSiblingBlocks),this.setMaxChildBlocks(t.maxChildBlocks),this.setTopLevel(t.topLevel),u.default.enter(this._templateNs),this.$container=(0,a.default)((0,g.default)({id:this.getId(),sortOrder:this.getSortOrder(),name:this.getName(),handle:this.getHandle(),maxBlocks:this.getMaxBlocks(),maxSiblingBlocks:this.getMaxSiblingBlocks(),maxChildBlocks:this.getMaxChildBlocks(),topLevel:this.getTopLevel(),errors:this.getErrors()})),u.default.leave();var i=this.$container.find("[data-neo-bts]");this.$sortOrderInput=i.filter('[data-neo-bts="input.sortOrder"]'),this.$nameInput=i.filter('[data-neo-bts="input.name"]'),this.$handleInput=i.filter('[data-neo-bts="input.handle"]'),this.$maxBlocksInput=i.filter('[data-neo-bts="input.maxBlocks"]'),this.$maxSiblingBlocksInput=i.filter('[data-neo-bts="input.maxSiblingBlocks"]'),this.$maxChildBlocksInput=i.filter('[data-neo-bts="input.maxChildBlocks"]'),this.$maxChildBlocksContainer=i.filter('[data-neo-bts="container.maxChildBlocks"]'),this.$topLevelInput=i.filter('[data-neo-bts="input.topLevel"]'),this.$topLevelContainer=i.filter('[data-neo-bts="container.topLevel"]'),this.$childBlocksInput=i.filter('[data-neo-bts="input.childBlocks"]'),this.$childBlocksContainer=i.filter('[data-neo-bts="container.childBlocks"]'),this.$deleteButton=i.filter('[data-neo-bts="button.delete"]'),o.default.initUiElements(this.$container),this._childBlocksSelect=this.$childBlocksInput.data("checkboxSelect"),this._topLevelLightswitch=this.$topLevelInput.data("lightswitch"),this._handleGenerator=new o.default.HandleGenerator(this.$nameInput,this.$handleInput),""!==this.getHandle()&&this._handleGenerator.stopListening();var r=!0,n=!1,s=void 0;try{for(var p,c=t.childBlockTypes[Symbol.iterator]();!(r=(p=c.next()).done);r=!0){var y=p.value;this.addChildBlockType(y)}}catch(e){n=!0,s=e}finally{try{!r&&c.return&&c.return()}finally{if(n)throw s}}this.setChildBlocks(t.childBlocks),l.default.Base.prototype.on.call(this._topLevelLightswitch,"change",function(){return e.setTopLevel(e._topLevelLightswitch.on)}),this.addListener(this.$nameInput,"keyup change",function(){e.setName(e.$nameInput.val()),e._handleGenerator.listening&&e.setHandle(e.$handleInput.val())}),this.addListener(this.$handleInput,"keyup change textchange",function(){return e.setHandle(e.$handleInput.val())}),this.addListener(this.$maxBlocksInput,"keyup change",function(){return e.setMaxBlocks(e.$maxBlocksInput.val())}),this.addListener(this.$maxSiblingBlocksInput,"keyup change",function(){return e.setSiblingMaxBlocks(e.$maxSiblingBlocksInput.val())}),this.addListener(this.$maxChildBlocksInput,"keyup change",function(){return e.setMaxChildBlocks(e.$maxChildBlocksInput.val())}),this.addListener(this.$deleteButton,"click",function(){window.confirm(o.default.t("neo","Are you sure you want to delete this block type?"))&&e.destroy()}),this.$childBlocksInput.on("change","input",function(){return e._refreshMaxChildBlocks()})},_generateChildBlocksCheckbox:function(e){u.default.enter(this._templateNs);var t=u.default.value("childBlock-"+e.getId(),"-"),i=u.default.fieldName("childBlocks");return u.default.leave(),(0,a.default)('\n      <div>\n        <input type="checkbox" value="'+e.getHandle()+'" id="'+t+'" class="checkbox" name="'+i+'[]" data-neo-btsc="input">\n        <label for="'+t+'" data-neo-btsc="text.label">'+e.getName()+"</label>\n      </div>")},getFocusInput:function(){return this.$nameInput},getId:function(){return this._id},isNew:function(){return/^new/.test(this.getId())},getErrors:function(){return this._errors},setSortOrder:function(e){this.base(e),this.$sortOrderInput.val(this.getSortOrder())},getName:function(){return this._name},setName:function(e){if(e!==this._name){var t=this._name;this._name=e,this.$nameInput.val()!==this._name&&this.$nameInput.val(this._name),this.trigger("change",{property:"name",oldValue:t,newValue:this._name})}},getHandle:function(){return this._handle},setHandle:function(e){if(e!==this._handle){var t=this._handle;this._handle=e,this.$handleInput.val()!==this._handle&&this.$handleInput.val(this._handle),this.trigger("change",{property:"handle",oldValue:t,newValue:this._handle})}},getMaxBlocks:function(){return this._maxBlocks},setMaxBlocks:function(e){var t=this._maxBlocks,i=Math.max(0,0|e);0===i&&this.$maxBlocksInput.val(null),t!==i&&(this._maxBlocks=i,this._maxBlocks>0&&parseInt(this.$maxBlocksInput.val())!==this._maxBlocks&&this.$maxBlocksInput.val(this._maxBlocks),this.trigger("change",{property:"maxBlocks",oldValue:t,newValue:this._maxBlocks}))},getMaxSiblingBlocks:function(){return this._maxSiblingBlocks},setMaxSiblingBlocks:function(e){var t=this._maxSiblingBlocks,i=Math.max(0,0|e);0===i&&this.$maxSiblingBlocksInput.val(null),t!==i&&(this._maxSiblingBlocks=i,this._maxSiblingBlocks>0&&parseInt(this.$maxSiblingBlocksInput.val())!==this._maxSiblingBlocks&&this.$maxSiblingBlocksInput.val(this._maxSiblingBlocks),this.trigger("change",{property:"maxSiblingBlocks",oldValue:t,newValue:this._maxSiblingBlocks}))},getMaxChildBlocks:function(){return this._maxChildBlocks},setMaxChildBlocks:function(e){var t=this._maxChildBlocks,i=Math.max(0,0|e);0===i&&this.$maxChildBlocksInput.val(null),t!==i&&(this._maxChildBlocks=i,this._maxChildBlocks>0&&parseInt(this.$maxChildBlocksInput.val())!==this._maxChildBlocks&&this.$maxChildBlocksInput.val(this._maxChildBlocks),this.trigger("change",{property:"maxChildBlocks",oldValue:t,newValue:this._maxChildBlocks}))},getTopLevel:function(){return this._topLevel},setTopLevel:function(e){var t=this._topLevel,i=!!e;t!==i&&(this._topLevel=i,this._topLevelLightswitch&&this._topLevelLightswitch.on!==this._topLevel&&(this._topLevelLightswitch.on=this._topLevel,this._topLevelLightswitch.toggle()),this.trigger("change",{property:"topLevel",oldValue:t,newValue:this._topLevel}))},getChildBlocks:function(){var e=this._childBlocksSelect,t=[];return!!e.$all.prop("checked")||(e.$options.each(function(e){var i=(0,a.default)(this);i.prop("checked")&&t.push(i.val())}),t.length>0&&t)},setChildBlocks:function(e){var t=this._childBlocksSelect;if(e===!0||"*"===e)t.$all.prop("checked",!0),t.onAllChange();else if(Array.isArray(e)){t.$all.prop("checked",!1);var i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var o=a.value;t.$options.filter('[value="'+o+'"]').prop("checked",!0)}}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}}else t.$all.prop("checked",!1),t.$options.prop("checked",!1);this._refreshMaxChildBlocks(!1)},addChildBlockType:function(e){var t=this;if(!this._childBlockTypes.includes(e)){var i=e.getSettings(),r=this._generateChildBlocksCheckbox(i);this._childBlockTypes.push(e),this.$childBlocksContainer.append(r),this._refreshChildBlocks();var n=this._childBlocksSelect,a=n.$all.prop("checked");n.$options=n.$options.add(r.find("input")),a&&n.onAllChange();var s=".childBlock"+this.getId();i.on("change"+s,function(i){return t["@onChildBlockTypeChange"](i,e,r)}),i.on("destroy"+s,function(i){return t.removeChildBlockType(e)})}},removeChildBlockType:function(e){var t=this._childBlockTypes.indexOf(e);if(t>=0){this._childBlockTypes.splice(t,1);var i=e.getSettings(),r=this.$childBlocksContainer.children().eq(t);r.remove();var n=this._childBlocksSelect;n.$options=n.$options.remove(r.find("input"));var a=".childBlock"+this.getId();i.off(a),this._refreshChildBlocks()}},_refreshChildBlocks:function(){var e=Array.from(this._childBlockTypes),t=this.$childBlocksContainer.children(),i=function(i){return t.get(e.indexOf(i))};this._childBlockTypes=this._childBlockTypes.sort(function(e,t){return e.getSettings().getSortOrder()-t.getSettings().getSortOrder()}),t.remove();var r=!0,n=!1,a=void 0;try{for(var s,o=this._childBlockTypes[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var p=s.value,l=i(p);this.$childBlocksContainer.append(l)}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}},_refreshMaxChildBlocks:function(e){var t=this;e="boolean"!=typeof e||e;var i=!!this.getChildBlocks();e?i?this.$maxChildBlocksContainer.hasClass("hidden")&&this.$maxChildBlocksContainer.removeClass("hidden").css({opacity:0,marginBottom:-this.$maxChildBlocksContainer.outerHeight()}).velocity({opacity:1,marginBottom:24},"fast"):this.$maxChildBlocksContainer.hasClass("hidden")||this.$maxChildBlocksContainer.css({opacity:1,marginBottom:24}).velocity({opacity:0,marginBottom:-this.$maxChildBlocksContainer.outerHeight()},"fast",function(){t.$maxChildBlocksContainer.addClass("hidden")}):this.$maxChildBlocksContainer.toggleClass("hidden",!i).css("margin-bottom",i?24:"")},"@onChildBlockTypeChange":function(e,t,i){var r=i.find("[data-neo-btsc]"),n=r.filter('[data-neo-btsc="input"]'),a=r.filter('[data-neo-btsc="text.label"]');switch(e.property){case"name":a.text(e.newValue);break;case"handle":n.val(e.newValue);break;case"sortOrder":this._refreshChildBlocks()}}},{_totalNewBlockTypes:0,getNewId:function(){return"new"+this._totalNewBlockTypes++}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),s=i(4),o=r(s),p={id:!1,label:!1,instructions:!1,required:!1,locale:!1,input:"",warning:!1,errors:!1},l={type:"text",attributes:{},id:"",name:"",value:"",class:"",fullWidth:!0};t.default=o.default.Base.extend({$container:new a.default,_sortOrder:0,getSortOrder:function(){return this._sortOrder},setSortOrder:function(e){var t=this._sortOrder;this._sortOrder=0|e,t!==this._sortOrder&&this.trigger("change",{property:"sortOrder",oldValue:t,newValue:this._sortOrder})},getFocusElement:function(){return new a.default},destroy:function(){this.trigger("destroy")},_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({},p,e);var t=[];if(t.push('\n      <div class="field">'),(e.label||e.instructions)&&(e.label&&(t.push('\n        <div class="heading">\n          <label'+(e.required?' class="required"':"")+(e.id?' for="'+e.id+'"':"")+">\n            "+e.label),e.locale&&t.push('\n            <span class="locale">'+e.locale+"</span>"),t.push("\n          </label>\n        </div>")),e.instructions&&t.push('\n        <div class="instructions">'+e.instructions+"</div>")),t.push('\n        <div class="input'+(e.errors?" errors":"")+'">\n          '+e.input+"\n        </div>"),e.warning&&t.push('\n        <p class="warning">'+e.warning+"</p>"),e.errors){t.push('\n        <ul class="errors">');var i=!0,r=!1,n=void 0;try{for(var a,s=e.errors[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var o=a.value;t.push("\n          <li>"+o+"</li>")}}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}t.push("\n        </ul>")}return t.push("\n      </div>"),t.join("")},_input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({},l,e);var t=[];t.push('\n      <input class="text'+(e.fullWidth?" fullwidth":"")+" "+e.class+'"\n             type="'+e.type+'"\n             id="'+e.id+'"\n             name="'+e.name+'"\n             value="'+e.value+'"');for(var i in e.attributes)t.push(" "+i+'="'+e.attributes[i]+'"');return t.push('\n             autocomplete="off">'),e.input=t.join(""),this._field(e)}})},function(e,t,i){i(12);var r=i(13).twig,n=r({id:"/Users/thomas/git/craft-neo/client/src/configurator/templates/blocktype_settings.twig",data:[{type:"logic",token:{type:"Twig.logic.type.import",expression:"'../../macros.twig'",contextName:"macros",stack:[{type:"Twig.expression.type.string",value:"/Users/thomas/git/craft-neo/client/src/macros.twig"}]}},{type:"raw",value:'\n<div>\n    <input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sortOrder"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"sortOrder",match:["sortOrder"]}]},{type:"raw",value:'" data-neo-bts="input.sortOrder">\n\n    <div>\n        '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"name"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"name"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Name"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"What this block type will be called in the CP."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,
associativity:"rightToLeft",operator:":",key:"required"},{type:"Twig.expression.type.bool",value:!0},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"name",match:["name"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"name"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.name"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n\n        "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"handle"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"handle"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Handle"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"How you&#8217;ll refer to this block type in the templates."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"required"},{type:"Twig.expression.type.bool",value:!0},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"class"},{type:"Twig.expression.type.string",value:"code"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"handle",match:["handle"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"handle"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.handle"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n\n        "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"number"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"maxBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"maxBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Max Blocks"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"The maximum number of blocks of this type the field is allowed to have."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"fullWidth"},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"maxBlocks",match:["maxBlocks"]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.variable",value:"maxBlocks",match:["maxBlocks"]},{type:"Twig.expression.type.null",value:null},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"maxBlocks"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"min"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"style"},{type:"Twig.expression.type.string",value:"width: 80px;"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.maxBlocks"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n\n        "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"number"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"maxSiblingBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"maxSiblingBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Max Sibling Blocks of This Type"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"The maximum number of blocks of this type allowed under one parent block or at the top level."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"fullWidth"},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"maxSiblingBlocks",match:["maxSiblingBlocks"]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.variable",value:"maxSiblingBlocks",match:["maxSiblingBlocks"]},{type:"Twig.expression.type.null",value:null},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"maxSiblingBlocks"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"min"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"style"},{type:"Twig.expression.type.string",value:"width: 80px;"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.maxSiblingBlocks"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n\n        "},{type:"logic",token:{type:"Twig.logic.type.set",key:"childBlocksId",expression:[{type:"Twig.expression.type.string",value:"childBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"        "},{type:"logic",token:{type:"Twig.logic.type.set",key:"childBlocksName",expression:[{type:"Twig.expression.type.string",value:"childBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]}},{type:"raw",value:"        "},{type:"logic",token:{type:"Twig.logic.type.setcapture",key:"childBlocksInput",output:[{type:"raw",value:'            <div class="checkbox-select" data-neo-bts="input.childBlocks">\n                <div>\n                    <input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"childBlocksName",match:["childBlocksName"]}]},{type:"raw",value:'">\n                    <input type="checkbox" value="*" id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"childBlocksId",match:["childBlocksId"]}]},{type:"raw",value:'" class="all checkbox" name="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"childBlocksName",match:["childBlocksName"]}]},{type:"raw",value:'">\n                    <label for="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"childBlocksId",match:["childBlocksId"]}]},{type:"raw",value:'"><strong>'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"All"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</strong></label>\n                </div>\n                <div data-neo-bts="container.childBlocks"></div>\n            </div>\n        '}]}},{type:"raw",value:"        "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"field",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.variable",value:"childBlocksId",match:["childBlocksId"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Child Blocks"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"Which block types do you want to allow as children?"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"input"},{type:"Twig.expression.type.variable",value:"childBlocksInput",match:["childBlocksInput"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'\n\n        <div data-neo-bts="container.maxChildBlocks">\n            '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"number"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"maxChildBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"maxChildBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Max Child Blocks"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"The maximum number of child blocks this block type is allowed to have."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"fullWidth"},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"maxChildBlocks",match:["maxChildBlocks"]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.variable",value:"maxChildBlocks",match:["maxChildBlocks"]},{type:"Twig.expression.type.null",value:null},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"maxChildBlocks"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"min"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"style"},{type:"Twig.expression.type.string",value:"width: 80px;"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.maxChildBlocks"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'\n        </div>\n\n        <div data-neo-bts="container.topLevel">\n            '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"lightswitch",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"topLevel"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"topLevel"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Top Level"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"Will this block type be allowed at the top level?"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"checked"},{type:"Twig.expression.type.variable",value:"topLevel",match:["topLevel"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.topLevel"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'\n        </div>\n    </div>\n\n    <hr>\n\n    <a class="error delete" data-neo-bts="button.delete">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Delete block type"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:"</a>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){var r=i(13).twig,n=r({id:"/Users/thomas/git/craft-neo/client/src/macros.twig",data:[{type:"logic",token:{type:"Twig.logic.type.macro",macroName:"field",parameters:["settings"],output:[{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"settings",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\n    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"id",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"label",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"label"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"instructions",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"instructions"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"required",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"required"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"locale",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"locale"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"input",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"input"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"warning",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"warning"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"errors",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"errors"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:'\n    <div class="field">\n        '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]},{type:"Twig.expression.type.variable",value:"instructions",match:["instructions"]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}],output:[{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]}],output:[{type:"raw",value:'                <div class="heading">\n                    <label'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"required",match:["required"]}],output:[{type:"raw",value:' class="required"'}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]}],output:[{type:"raw",value:' for="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:">\n                        "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:"\n                        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"locale",match:["locale"]}],output:[{type:"raw",value:'                            <span class="locale">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"locale",match:["locale"]}]},{type:"raw",value:"</span>\n                        "}]}},{type:"raw",value:"                    </label>\n                </div>\n            "}]}},{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"instructions",match:["instructions"]}],output:[{type:"raw",value:'                <div class="instructions">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"instructions",match:["instructions"]},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:"</div>\n            "}]}},{type:"raw",value:"        "}]}},{type:"raw",value:'        <div class="input '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"orientation",match:["orientation"]}]},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]}],output:[{type:"raw",value:" errors"}]}},{type:"raw",value:'">\n            '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"input",match:["input"]},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:"\n        </div>\n        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"warning",match:["warning"]}],output:[{type:"raw",value:'            <p class="warning">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"warning",match:["warning"]}]},{type:"raw",value:"</p>\n        "}]}},{type:"raw",value:"        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]}],output:[{type:"raw",value:'            <ul class="errors">\n                '},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"error",expression:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]
}],output:[{type:"raw",value:"                    <li>"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"error",match:["error"]}]},{type:"raw",value:"</li>\n                "}]}},{type:"raw",value:"            </ul>\n        "}]}},{type:"raw",value:"    </div>\n"}]}},{type:"raw",value:"\n"},{type:"logic",token:{type:"Twig.logic.type.macro",macroName:"input",parameters:["settings"],output:[{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.from",expression:"_self",macroNames:{field:"field"},stack:[{type:"Twig.expression.type.variable",value:"_self",match:["_self"]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"settings",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\n    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"type",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"type"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"attributes",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"attributes"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"id",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"name",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"name"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"value",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"value"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"class",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"class"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"fullWidth",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"fullWidth"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!0},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\n    "},{type:"logic",token:{type:"Twig.logic.type.setcapture",key:"input",output:[{type:"raw",value:'        <input class="text '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"fullWidth",match:["fullWidth"]},{type:"Twig.expression.type.string",value:"fullwidth"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"class",match:["class"]}]},{type:"raw",value:'"\n               type="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]}]},{type:"raw",value:'"\n               id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]}]},{type:"raw",value:'"\n               name="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]}]},{type:"raw",value:'"\n               value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"value",match:["value"]}]},{type:"raw",value:'"\n               '},{type:"logic",token:{type:"Twig.logic.type.for",key_var:"attrName",value_var:"attrValue",expression:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"]}],output:[{type:"raw",value:"                   "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrName",match:["attrName"]}]},{type:"raw",value:'="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrValue",match:["attrValue"]}]},{type:"raw",value:'"\n               '}]}},{type:"raw",value:'               autocomplete="off">\n    '}]}},{type:"raw",value:"\n    "},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"field",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"merge",match:["|merge","merge"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"input"},{type:"Twig.expression.type.variable",value:"input",match:["input"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n"}]}},{type:"raw",value:"\n"},{type:"logic",token:{type:"Twig.logic.type.macro",macroName:"lightswitch",parameters:["settings"],output:[{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.from",expression:"_self",macroNames:{field:"field"},stack:[{type:"Twig.expression.type.variable",value:"_self",match:["_self"]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"settings",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\n    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"attributes",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"attributes"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"name",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"name"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"checked",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"checked"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\n    "},{type:"logic",token:{type:"Twig.logic.type.setcapture",key:"input",output:[{type:"raw",value:'        <div class="lightswitch '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"checked",match:["checked"]},{type:"Twig.expression.type.string",value:"on"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'" tabindex="0"\n             '},{type:"logic",token:{type:"Twig.logic.type.for",key_var:"attrName",value_var:"attrValue",expression:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"]}],output:[{type:"raw",value:"                 "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrName",match:["attrName"]}]},{type:"raw",value:'="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrValue",match:["attrValue"]}]},{type:"raw",value:'"\n             '}]}},{type:"raw",value:'>\n            <div class="lightswitch-container">\n                <div class="label on"></div>\n                <div class="handle"></div>\n                <div class="label off"></div>\n            </div>\n            <input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"checked",match:["checked"]},{type:"Twig.expression.type.string",value:"1"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'">\n        </div>\n    '}]}},{type:"raw",value:"\n    "},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"field",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"merge",match:["|merge","merge"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"input"},{type:"Twig.expression.type.variable",value:"input",match:["input"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n"}]}}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){var r;(function(e,n){/**
	 * Twig.js 0.8.9
	 *
	 * @copyright 2011-2015 John Roepke and the Twig.js Contributors
	 * @license   Available under the BSD 2-Clause License
	 * @link      https://github.com/justjohn/twig.js
	 */
var a=function(e){return e.VERSION="0.8.9",e}(a||{}),a=function(e){"use strict";function t(e,t){var i=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&i===e}return e.trace=!1,e.debug=!1,e.cache=!0,e.placeholders={parent:"{{|PARENT|}}"},e.indexOf=function(e,t){if(Array.prototype.hasOwnProperty("indexOf"))return e.indexOf(t);if(void 0===e||null===e)throw new TypeError;var i=Object(e),r=i.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var a=n>=0?n:Math.max(r-Math.abs(n),0);a<r;a++)if(a in i&&i[a]===t)return a;return e==t?0:-1},e.forEach=function(e,t,i){if(Array.prototype.forEach)return e.forEach(t,i);var r,n;if(null==e)throw new TypeError(" this is null or not defined");var a=Object(e),s=a.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(i&&(r=i),n=0;n<s;){var o;n in a&&(o=a[n],t.call(r,o,n,a)),n++}},e.merge=function(t,i,r){return e.forEach(Object.keys(i),function(e){(!r||e in t)&&(t[e]=i[e])}),t},e.Error=function(e){this.message=e,this.name="TwigException",this.type="TwigException"},e.Error.prototype.toString=function(){var e=this.name+": "+this.message;return e},e.log={trace:function(){e.trace&&console&&console.log(Array.prototype.slice.call(arguments))},debug:function(){e.debug&&console&&console.log(Array.prototype.slice.call(arguments))}},"undefined"!=typeof console?"undefined"!=typeof console.error?e.log.error=function(){console.error.apply(console,arguments)}:"undefined"!=typeof console.log&&(e.log.error=function(){console.log.apply(console,arguments)}):e.log.error=function(){},e.ChildContext=function(e){var t=function(){};return t.prototype=e,new t},e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",output_whitespace_pre:"output_whitespace_pre",output_whitespace_post:"output_whitespace_post",output_whitespace_both:"output_whitespace_both",logic_whitespace_pre:"logic_whitespace_pre",logic_whitespace_post:"logic_whitespace_post",logic_whitespace_both:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.output_whitespace_pre,open:"{{-",close:"}}"},{type:e.token.type.output_whitespace_post,open:"{{",close:"-}}"},{type:e.token.type.output_whitespace_both,open:"{{-",close:"-}}"},{type:e.token.type.logic_whitespace_pre,open:"{%-",close:"%}"},{type:e.token.type.logic_whitespace_post,open:"{%",close:"-%}"},{type:e.token.type.logic_whitespace_both,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(t){var i,r,n,a,s={position:null,close_position:null,def:null};for(i=0;i<e.token.definitions.length;i++)r=e.token.definitions[i],n=t.indexOf(r.open),a=t.indexOf(r.close),e.log.trace("Twig.token.findStart: ","Searching for ",r.open," found at ",n),n>=0&&r.open.length!==r.close.length&&a<0||(n>=0&&(null===s.position||n<s.position)?(s.position=n,s.def=r,s.close_position=a):n>=0&&null!==s.position&&n===s.position&&(r.open.length>s.def.open.length?(s.position=n,s.def=r,s.close_position=a):r.open.length===s.def.open.length&&(r.close.length>s.def.close.length?a>=0&&a<s.close_position&&(s.position=n,s.def=r,s.close_position=a):a>=0&&a<s.close_position&&(s.position=n,s.def=r,s.close_position=a))));return delete s.close_position,s},e.token.findEnd=function(t,i,r){for(var n,a,s=null,o=!1,p=0,l=null,c=null,u=null,y=null,d=null,h=null;!o;){if(l=null,c=null,u=t.indexOf(i.close,p),!(u>=0))throw new e.Error("Unable to find closing bracket '"+i.close+"' opened near template position "+r);if(s=u,o=!0,i.type===e.token.type.comment)break;if(i.type===e.token.type.raw)break;for(a=e.token.strings.length,n=0;n<a;n+=1)d=t.indexOf(e.token.strings[n],p),d>0&&d<u&&(null===l||d<l)&&(l=d,c=e.token.strings[n]);if(null!==l)for(y=l+1,s=null,o=!1;;){if(h=t.indexOf(c,y),h<0)throw"Unclosed string in template";if("\\"!==t.substr(h-1,1)){p=h+1;break}y=h+1}}return s},e.tokenize=function(t){for(var i=[],r=0,n=null,a=null;t.length>0;)if(n=e.token.findStart(t),e.log.trace("Twig.tokenize: ","Found token: ",n),null!==n.position){if(n.position>0&&i.push({type:e.token.type.raw,value:t.substring(0,n.position)}),t=t.substr(n.position+n.def.open.length),r+=n.position+n.def.open.length,a=e.token.findEnd(t,n.def,r),e.log.trace("Twig.tokenize: ","Token ends at ",a),i.push({type:n.def.type,value:t.substring(0,a).trim()}),"\n"===t.substr(a+n.def.close.length,1))switch(n.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":a+=1}t=t.substr(a+n.def.close.length),r+=a+n.def.close.length}else i.push({type:e.token.type.raw,value:t}),t="";return i},e.compile=function(t){try{for(var i=[],r=[],n=[],a=null,s=null,o=null,p=null,l=null,c=null,u=null,y=null,d=null,h=null,g=null,f=null,m=function(t){e.expression.compile.apply(this,[t]),r.length>0?n.push(t):i.push(t)},v=function(t){if(s=e.logic.compile.apply(this,[t]),h=s.type,g=e.logic.handler[h].open,f=e.logic.handler[h].next,e.log.trace("Twig.compile: ","Compiled logic token to ",s," next is: ",f," open is : ",g),void 0!==g&&!g){if(p=r.pop(),u=e.logic.handler[p.type],e.indexOf(u.next,h)<0)throw new Error(h+" not expected after a "+p.type);p.output=p.output||[],p.output=p.output.concat(n),n=[],d={type:e.token.type.logic,token:p},r.length>0?n.push(d):i.push(d)}void 0!==f&&f.length>0?(e.log.trace("Twig.compile: ","Pushing ",s," to logic stack."),r.length>0&&(p=r.pop(),p.output=p.output||[],p.output=p.output.concat(n),r.push(p),n=[]),r.push(s)):void 0!==g&&g&&(d={type:e.token.type.logic,token:s},r.length>0?n.push(d):i.push(d))};t.length>0;){switch(a=t.shift(),l=i[i.length-1],c=n[n.length-1],y=t[0],e.log.trace("Compiling token ",a),a.type){case e.token.type.raw:r.length>0?n.push(a):i.push(a);break;case e.token.type.logic:v.call(this,a);break;case e.token.type.comment:break;case e.token.type.output:m.call(this,a);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:switch(a.type!==e.token.type.output_whitespace_post&&a.type!==e.token.type.logic_whitespace_post&&(l&&l.type===e.token.type.raw&&(i.pop(),null===l.value.match(/^\s*$/)&&(l.value=l.value.trim(),i.push(l))),c&&c.type===e.token.type.raw&&(n.pop(),null===c.value.match(/^\s*$/)&&(c.value=c.value.trim(),n.push(c)))),a.type){case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:m.call(this,a);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:v.call(this,a)}a.type!==e.token.type.output_whitespace_pre&&a.type!==e.token.type.logic_whitespace_pre&&y&&y.type===e.token.type.raw&&(t.shift(),null===y.value.match(/^\s*$/)&&(y.value=y.value.trim(),t.unshift(y)))}e.log.trace("Twig.compile: "," Output: ",i," Logic Stack: ",r," Pending Output: ",n)}if(r.length>0)throw o=r.pop(),new Error("Unable to find an end tag for "+o.type+", expecting one of "+o.next);return i}catch(t){if(e.log.error("Error compiling twig template "+this.id+": "),t.stack?e.log.error(t.stack):e.log.error(t.toString()),this.options.rethrow)throw t}},e.parse=function(t,i){try{var r=[],n=!0,a=this;return e.forEach(t,function(t){switch(e.log.debug("Twig.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:r.push(e.filters.raw(t.value));break;case e.token.type.logic:var s=t.token,o=e.logic.parse.apply(a,[s,i,n]);void 0!==o.chain&&(n=o.chain),void 0!==o.context&&(i=o.context),void 0!==o.output&&r.push(o.output);break;case e.token.type.comment:break;case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:case e.token.type.output:e.log.debug("Twig.parse: ","Output token: ",t.stack),r.push(e.expression.parse.apply(a,[t.stack,i]))}}),e.output.apply(this,[r])}catch(t){if(e.log.error("Error parsing twig template "+this.id+": "),t.stack?e.log.error(t.stack):e.log.error(t.toString()),this.options.rethrow)throw t;if(e.debug)return t.toString()}},e.prepare=function(t){var i,r;return e.log.debug("Twig.prepare: ","Tokenizing ",t),r=e.tokenize.apply(this,[t]),e.log.debug("Twig.prepare: ","Compiling ",r),i=e.compile.apply(this,[r]),e.log.debug("Twig.prepare: ","Compiled ",i),i},e.output=function(t){if(!this.options.autoescape)return t.join("");var i="html";"string"==typeof this.options.autoescape&&(i=this.options.autoescape);var r=[];return e.forEach(t,function(t){t&&t.twig_markup!==!0&&t.twig_markup!=i&&(t=e.filters.escape(t,[i])),r.push(t)}),e.Markup(r.join(""))},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(t){if("prototype"===t)throw new e.Error(t+" is not a valid twig identifier");if(e.cache&&e.Templates.registry.hasOwnProperty(t))throw new e.Error("There is already a template with the ID "+t);return!0},e.Templates.registerLoader=function(t,i,r){if("function"!=typeof i)throw new e.Error("Unable to add loader for "+t+": Invalid function reference given.");r&&(i=i.bind(r)),this.loaders[t]=i},e.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},e.Templates.isRegisteredLoader=function(e){return this.loaders.hasOwnProperty(e)},e.Templates.registerParser=function(t,i,r){if("function"!=typeof i)throw new e.Error("Unable to add parser for "+t+": Invalid function regerence given.");r&&(i=i.bind(r)),this.parsers[t]=i},e.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},e.Templates.isRegisteredParser=function(e){return this.parsers.hasOwnProperty(e)},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return e.Templates.registry.hasOwnProperty(t)?e.Templates.registry[t]:null},e.Templates.loadRemote=function(t,i,r,n){var a;return void 0===i.async&&(i.async=!0),void 0===i.id&&(i.id=t),e.cache&&e.Templates.registry.hasOwnProperty(i.id)?("function"==typeof r&&r(e.Templates.registry[i.id]),e.Templates.registry[i.id]):(i.parser=i.parser||"twig",a=this.loaders[i.method]||this.loaders.fs,a.apply(this,arguments))},e.Template=function(i){var r=i.data,n=i.id,a=i.blocks,s=i.macros||{},o=i.base,p=i.path,l=i.url,c=i.name,u=i.method,y=i.options;this.id=n,this.method=u,this.base=o,this.path=p,this.url=l,this.name=c,this.macros=s,this.options=y,this.reset(a),t("String",r)?this.tokens=e.prepare.apply(this,[r]):this.tokens=r,void 0!==n&&e.Templates.save(this)},e.Template.prototype.reset=function(t){e.log.debug("Twig.Template.reset","Reseting template "+this.id),this.blocks={},this.importedBlocks=[],this.originalBlockTokens={},this.child={blocks:t||{}},this.extend=null},e.Template.prototype.render=function(t,i){i=i||{};var r,n;if(this.context=t||{},this.reset(),i.blocks&&(this.blocks=i.blocks),i.macros&&(this.macros=i.macros),r=e.parse.apply(this,[this.tokens,this.context]),this.extend){var a;return this.options.allowInlineIncludes&&(a=e.Templates.load(this.extend),a&&(a.options=this.options)),a||(n=e.path.parsePath(this,this.extend),a=e.Templates.loadRemote(n,{method:this.getLoaderMethod(),base:this.base,async:!1,id:n,options:this.options})),this.parent=a,this.parent.render(this.context,{blocks:this.blocks})}return"blocks"==i.output?this.blocks:"macros"==i.output?this.macros:r},e.Template.prototype.importFile=function(t){var i,r;if(!this.url&&this.options.allowInlineIncludes){if(t=this.path?this.path+"/"+t:t,r=e.Templates.load(t),!r&&(r=e.Templates.loadRemote(i,{id:t,method:this.getLoaderMethod(),async:!1,options:this.options}),!r))throw new e.Error("Unable to find the template "+t);return r.options=this.options,r}return i=e.path.parsePath(this,t),r=e.Templates.loadRemote(i,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:i})},e.Template.prototype.importBlocks=function(t,i){var r=this.importFile(t),n=this.context,a=this;i=i||!1,r.render(n),e.forEach(Object.keys(r.blocks),function(e){(i||void 0===a.blocks[e])&&(a.blocks[e]=r.blocks[e],a.importedBlocks.push(e))})},e.Template.prototype.importMacros=function(t){var i=e.path.parsePath(this,t),r=e.Templates.loadRemote(i,{method:this.getLoaderMethod(),async:!1,id:i});return r},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(t){return e.compiler.compile(this,t)},e.Markup=function(e,t){return"undefined"==typeof t&&(t=!0),"string"==typeof e&&e.length>0&&(e=new String(e),e.twig_markup=t),e},e}(a||{});!function(e){"use strict";e.Templates.registerLoader("ajax",function(t,i,r,n){var a,s,o=i.precompiled,p=this.parsers[i.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');return s=new XMLHttpRequest,s.onreadystatechange=function(){var l=null;4===s.readyState&&(200===s.status||window.cordova&&0==s.status?(e.log.debug("Got template ",s.responseText),l=o===!0?JSON.parse(s.responseText):s.responseText,i.url=t,i.data=l,a=p.call(this,i),"function"==typeof r&&r(a)):"function"==typeof n&&n(s))},s.open("GET",t,!!i.async),s.send(),!!i.async||a})}(a),function(e){"use strict";var t,r;try{t=i(15),r=i(16)}catch(e){}e.Templates.registerLoader("fs",function(i,n,a,s){var o,p=null,l=n.precompiled,c=this.parsers[n.parser]||this.parser.twig;if(!t||!r)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');var u=function(e,t){return e?void("function"==typeof s&&s(e)):(l===!0&&(t=JSON.parse(t)),n.data=t,n.path=n.path||i,o=c.call(this,n),void("function"==typeof a&&a(o)))};if(n.path=n.path||i,n.async)return t.stat(n.path,function(r,a){if(r||!a.isFile())throw new e.Error("Unable to find template file "+i);t.readFile(n.path,"utf8",u)}),!0;if(!t.statSync(n.path).isFile())throw new e.Error("Unable to find template file "+i);return p=t.readFileSync(n.path,"utf8"),u(void 0,p),o})}(a),function(e){"use strict";e.Templates.registerParser("source",function(e){return e.data||""})}(a),function(e){"use strict";e.Templates.registerParser("twig",function(t){return new e.Template(t)})}(a),function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i})}();var a=function(e){e.lib={};var t=function(){function e(){var t=arguments[0],i=e.cache;return i[t]&&i.hasOwnProperty(t)||(i[t]=e.parse(t)),e.format.call(null,i[t],arguments)}function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){return Array(t+1).join(e)}var r={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};e.format=function(n,a){var s,o,p,l,c,u,y,d=1,h=n.length,g="",f=[],m=!0,v="";for(o=0;o<h;o++)if(g=t(n[o]),"string"===g)f[f.length]=n[o];else if("array"===g){if(l=n[o],l[2])for(s=a[d],p=0;p<l[2].length;p++){if(!s.hasOwnProperty(l[2][p]))throw new Error(e("[sprintf] property '%s' does not exist",l[2][p]));s=s[l[2][p]]}else s=l[1]?a[l[1]]:a[d++];if("function"==t(s)&&(s=s()),r.not_string.test(l[8])&&r.not_json.test(l[8])&&"number"!=t(s)&&isNaN(s))throw new TypeError(e("[sprintf] expecting number but found %s",t(s)));switch(r.number.test(l[8])&&(m=s>=0),l[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":case"i":s=parseInt(s,10);break;case"j":s=JSON.stringify(s,null,l[6]?parseInt(l[6]):0);break;case"e":s=l[7]?s.toExponential(l[7]):s.toExponential();break;case"f":s=l[7]?parseFloat(s).toFixed(l[7]):parseFloat(s);break;case"g":s=l[7]?parseFloat(s).toPrecision(l[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&l[7]?s.substring(0,l[7]):s;break;case"u":s>>>=0;break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}r.json.test(l[8])?f[f.length]=s:(!r.number.test(l[8])||m&&!l[3]?v="":(v=m?"+":"-",s=s.toString().replace(r.sign,"")),u=l[4]?"0"===l[4]?"0":l[4].charAt(1):" ",y=l[6]-(v+s).length,c=l[6]&&y>0?i(u,y):"",f[f.length]=l[5]?v+s+c:"0"===u?v+c+s:c+v+s)}return f.join("")},e.cache={},e.parse=function(e){for(var t=e,i=[],n=[],a=0;t;){if(null!==(i=r.text.exec(t)))n[n.length]=i[0];else if(null!==(i=r.modulo.exec(t)))n[n.length]="%";else{if(null===(i=r.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(i[2]){a|=1;var s=[],o=i[2],p=[];if(null===(p=r.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s[s.length]=p[1];""!==(o=o.substring(p[0].length));)if(null!==(p=r.key_access.exec(o)))s[s.length]=p[1];else{if(null===(p=r.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");s[s.length]=p[1]}i[2]=s}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=i}t=t.substring(i[0].length)}return n};var n=function(t,i,r){return r=(i||[]).slice(0),r.splice(0,0,t),e.apply(null,r)};return{sprintf:e,vsprintf:n}}(),i=t.sprintf,r=t.vsprintf;return e.lib.sprintf=i,e.lib.vsprintf=r,function(){function t(e){return(e=Math.abs(e)%100)%10==1&&11!=e?"st":e%10==2&&12!=e?"nd":e%10==3&&13!=e?"rd":"th"}function i(e){var t=new Date(e.getFullYear()+1,0,4);return(t-e)/864e5<7&&(e.getDay()+6)%7<(t.getDay()+6)%7?t.getFullYear():e.getMonth()>0||e.getDate()>=4?e.getFullYear():e.getFullYear()-((e.getDay()+6)%7-e.getDate()>2?1:0)}function r(e){var t=new Date(i(e),0,4);return t.setDate(t.getDate()-(t.getDay()+6)%7),parseInt((e-t)/6048e5)+1}var n="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),a="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),s="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),o="January,February,March,April,May,June,July,August,September,October,November,December".split(",");e.lib.formatDate=function(e,p){if("string"!=typeof p||/^\s*$/.test(p))return e+"";var l=new Date(e.getFullYear(),0,1),c=e;return p.replace(/[dDjlNSwzWFmMntLoYyaABgGhHisuU]/g,function(e){switch(e){case"d":return("0"+c.getDate()).replace(/^.+(..)$/,"$1");case"D":return n[c.getDay()];case"j":return c.getDate();case"l":return a[c.getDay()];case"N":return(c.getDay()+6)%7+1;case"S":return t(c.getDate());case"w":return c.getDay();case"z":return Math.ceil((l-c)/864e5);case"W":return("0"+r(c)).replace(/^.(..)$/,"$1");case"F":return o[c.getMonth()];case"m":return("0"+(c.getMonth()+1)).replace(/^.+(..)$/,"$1");case"M":return s[c.getMonth()];case"n":return c.getMonth()+1;case"t":return new Date(c.getFullYear(),c.getMonth()+1,-1).getDate();case"L":return 29==new Date(c.getFullYear(),1,29).getDate()?1:0;case"o":return i(c);case"Y":return c.getFullYear();case"y":return(c.getFullYear()+"").replace(/^.+(..)$/,"$1");case"a":return c.getHours()<12?"am":"pm";case"A":return c.getHours()<12?"AM":"PM";case"B":return Math.floor(1e3*((c.getUTCHours()+1)%24+c.getUTCMinutes()/60+c.getUTCSeconds()/3600)/24);case"g":return c.getHours()%12!=0?c.getHours()%12:12;case"G":return c.getHours();case"h":return("0"+(c.getHours()%12!=0?c.getHours()%12:12)).replace(/^.+(..)$/,"$1");case"H":return("0"+c.getHours()).replace(/^.+(..)$/,"$1");case"i":return("0"+c.getMinutes()).replace(/^.+(..)$/,"$1");case"s":return("0"+c.getSeconds()).replace(/^.+(..)$/,"$1");case"u":return c.getMilliseconds();case"U":return c.getTime()/1e3}})}}(),e.lib.strip_tags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,r=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(r,"").replace(i,function(e,i){return t.indexOf("<"+i.toLowerCase()+">")>-1?e:""})},e.lib.parseISO8601Date=function(e){var t=/(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(\.\d+)?(Z|([+-])(\d\d):(\d\d))/,i=[];if(i=e.match(t),!i)throw"Couldn't parse ISO 8601 date string '"+e+"'";var r=[1,2,3,4,5,6,10,11];for(var n in r)i[r[n]]=parseInt(i[r[n]],10);i[7]=parseFloat(i[7]);var a=Date.UTC(i[1],i[2]-1,i[3],i[4],i[5],i[6]);if(i[7]>0&&(a+=Math.round(1e3*i[7])),"Z"!=i[8]&&i[10]){var s=60*i[10]*60*1e3;i[11]&&(s+=60*i[11]*1e3),"-"==i[9]?a-=s:a+=s}return new Date(a)},e.lib.strtotime=function(e,t){function i(e,t,i){var r,n=l[t];"undefined"!=typeof n&&(r=n-p.getDay(),0===r?r=7*i:r>0&&"last"===e?r-=7:r<0&&"next"===e&&(r+=7),p.setDate(p.getDate()+r))}function r(e){var t=e.split(" "),r=t[0],n=t[1].substring(0,3),a=/\d+/.test(r),s="ago"===t[2],o=("last"===r?-1:1)*(s?-1:1);if(a&&(o*=parseInt(r,10)),c.hasOwnProperty(n)&&!t[1].match(/^mon(day|\.)?$/i))return p["set"+c[n]](p["get"+c[n]]()+o);if("wee"===n)return p.setDate(p.getDate()+7*o);if("next"===r||"last"===r)i(r,n,o);else if(!a)return!1;return!0}var n,a,s,o,p,l,c,u,y,d,h,g=!1;if(!e)return g;if(e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase(),a=e.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/),a&&a[2]===a[4])if(a[1]>1901)switch(a[2]){case"-":return a[3]>12||a[5]>31?g:new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3;case".":return g;case"/":return a[3]>12||a[5]>31?g:new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}else if(a[5]>1901)switch(a[2]){case"-":return a[3]>12||a[1]>31?g:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3;case".":return a[3]>12||a[1]>31?g:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3;case"/":return a[1]>12||a[3]>31?g:new Date(a[5],parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}else switch(a[2]){case"-":return a[3]>12||a[5]>31||a[1]<70&&a[1]>38?g:(o=a[1]>=0&&a[1]<=38?+a[1]+2e3:a[1],new Date(o,parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3);case".":return a[5]>=70?a[3]>12||a[1]>31?g:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3:a[5]<60&&!a[6]?a[1]>23||a[3]>59?g:(s=new Date,new Date(s.getFullYear(),s.getMonth(),s.getDate(),a[1]||0,a[3]||0,a[5]||0,a[9]||0)/1e3):g;case"/":return a[1]>12||a[3]>31||a[5]<70&&a[5]>38?g:(o=a[5]>=0&&a[5]<=38?+a[5]+2e3:a[5],new Date(o,parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3);case":":return a[1]>23||a[3]>59||a[5]>59?g:(s=new Date,new Date(s.getFullYear(),s.getMonth(),s.getDate(),a[1]||0,a[3]||0,a[5]||0)/1e3)}if("now"===e)return null===t||isNaN(t)?(new Date).getTime()/1e3|0:0|t;if(!isNaN(n=Date.parse(e)))return n/1e3|0;if((a=e.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2})[ t]([0-9]{2}:[0-9]{2}:[0-9]{2}(\.[0-9]+)?)([\+-][0-9]{2}(:[0-9]{2})?|z)/))&&("z"==a[4]?a[4]="Z":a[4].match(/^([\+-][0-9]{2})$/)&&(a[4]=a[4]+":00"),!isNaN(n=Date.parse(a[1]+"T"+a[2]+a[4]))))return n/1e3|0;if(p=t?new Date(1e3*t):new Date,l={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},c={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},y="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)",d="([+-]?\\d+\\s"+y+"|(last|next)\\s"+y+")(\\sago)?",a=e.match(new RegExp(d,"gi")),!a)return g;for(h=0,u=a.length;h<u;h++)if(!r(a[h]))return g;return p.getTime()/1e3},e.lib.is=function(e,t){var i=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&i===e},e.lib.copy=function(e){var t,i={};for(t in e)i[t]=e[t];return i},e.lib.replaceAll=function(e,t,i){return e.split(t).join(i)},e.lib.chunkArray=function(t,i){var r=[],n=0,a=t.length;if(i<1||!e.lib.is("Array",t))return[];for(;n<a;)r.push(t.slice(n,n+=i));return r},e.lib.round=function(e,t,i){var r,n,a,s;if(t|=0,r=Math.pow(10,t),e*=r,s=e>0|-(e<0),a=e%1===.5*s,n=Math.floor(e),a)switch(i){case"PHP_ROUND_HALF_DOWN":e=n+(s<0);break;case"PHP_ROUND_HALF_EVEN":e=n+n%2*s;break;case"PHP_ROUND_HALF_ODD":e=n+!(n%2);break;default:e=n+(s>0)}return(a?e:Math.round(e))/r},e.lib.max=function(){var e,t,i=0,r=0,n=arguments,a=n.length,s=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},o=function(e,t){var i=0,r=0,n=0,a=0,p=0;if(e===t)return 0;if("object"==typeof e){if("object"==typeof t){if(e=s(e),t=s(t),p=e.length,a=t.length,a>p)return 1;if(a<p)return-1;for(i=0,r=p;i<r;++i){if(n=o(e[i],t[i]),1==n)return 1;if(n==-1)return-1}return 0}return-1}return"object"==typeof t?1:isNaN(t)&&!isNaN(e)?0==e?0:e<0?1:-1:isNaN(e)&&!isNaN(t)?0==t?0:t>0?1:-1:t==e?0:t>e?1:-1};if(0===a)throw new Error("At least one value should be passed to max()");if(1===a){if("object"!=typeof n[0])throw new Error("Wrong parameter count for max()");if(e=s(n[0]),0===e.length)throw new Error("Array must contain at least one element for max()")}else e=n;for(t=e[0],i=1,r=e.length;i<r;++i)1==o(t,e[i])&&(t=e[i]);return t},e.lib.min=function(){var e,t,i=0,r=0,n=arguments,a=n.length,s=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},o=function(e,t){var i=0,r=0,n=0,a=0,p=0;if(e===t)return 0;if("object"==typeof e){if("object"==typeof t){if(e=s(e),t=s(t),p=e.length,a=t.length,a>p)return 1;if(a<p)return-1;for(i=0,r=p;i<r;++i){if(n=o(e[i],t[i]),1==n)return 1;if(n==-1)return-1}return 0}return-1}return"object"==typeof t?1:isNaN(t)&&!isNaN(e)?0==e?0:e<0?1:-1:isNaN(e)&&!isNaN(t)?0==t?0:t>0?1:-1:t==e?0:t>e?1:-1};if(0===a)throw new Error("At least one value should be passed to min()");if(1===a){if("object"!=typeof n[0])throw new Error("Wrong parameter count for min()");if(e=s(n[0]),0===e.length)throw new Error("Array must contain at least one element for min()")}else e=n;for(t=e[0],i=1,r=e.length;i<r;++i)o(t,e[i])==-1&&(t=e[i]);return t},e}(a||{}),a=function(e){"use strict";for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s+([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile:function(t){var i=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,delete t.match,t},parse:function(t,i,r){var n="",a=e.expression.parse.apply(this,[t.stack,i]);return r=!0,a&&(r=!1,n=e.parse.apply(this,[t.output,i])),{chain:r,output:n}}},{type:e.logic.type.elseif,regex:/^elseif\s+([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile:function(t){var i=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,delete t.match,t},parse:function(t,i,r){var n="";return r&&e.expression.parse.apply(this,[t.stack,i])===!0&&(r=!1,n=e.parse.apply(this,[t.output,i])),{chain:r,output:n}}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse:function(t,i,r){var n="";return r&&(n=e.parse.apply(this,[t.output,i])),{chain:r,output:n}}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([^\s].*?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile:function(t){var i=t.match[1],r=t.match[2],n=t.match[3],a=null;if(t.key_var=null,t.value_var=null,i.indexOf(",")>=0){if(a=i.split(","),2!==a.length)throw new e.Error("Invalid expression in for loop: "+i);t.key_var=a[0].trim(),t.value_var=a[1].trim()}else t.value_var=i;return t.expression=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,n&&(t.conditional=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack),delete t.match,t},parse:function(t,i,r){var n,a,s=e.expression.parse.apply(this,[t.expression,i]),o=[],p=0,l=this,c=t.conditional,u=function(e,t){var r=void 0!==c;return{index:e+1,index0:e,revindex:r?void 0:t-e,revindex0:r?void 0:t-e-1,first:0===e,last:r?void 0:e===t-1,length:r?void 0:t,parent:i}},y=function(r,a){var s=e.ChildContext(i);s[t.value_var]=a,t.key_var&&(s[t.key_var]=r),s.loop=u(p,n),(void 0===c||e.expression.parse.apply(l,[c,s]))&&(o.push(e.parse.apply(l,[t.output,s])),p+=1),delete s.loop,delete s[t.value_var],delete s[t.key_var],e.merge(i,s,!0)};return e.lib.is("Array",s)?(n=s.length,e.forEach(s,function(e){var t=p;y(t,e)})):e.lib.is("Object",s)&&(a=void 0!==s._keys?s._keys:Object.keys(s),n=a.length,e.forEach(a,function(e){"_keys"!==e&&y(e,s[e])})),r=0===o.length,{chain:r,output:e.output.apply(this,[o])}}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(t){var i=t.match[1].trim(),r=t.match[2],n=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack;return t.key=i,t.expression=n,delete t.match,t},parse:function(t,i,r){var n=e.expression.parse.apply(this,[t.expression,i]),a=t.key;return i[a]=n,{chain:r,context:i}}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile:function(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse:function(t,i,r){var n=e.parse.apply(this,[t.output,i]),a=t.key;return this.context[a]=n,i[a]=n,{chain:r,context:i}}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile:function(t){var i="|"+t.match[1].trim();return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,delete t.match,t},parse:function(t,i,r){var n=e.parse.apply(this,[t.output,i]),a=[{type:e.expression.type.string,value:n}].concat(t.stack),s=e.expression.parse.apply(this,[a,i]);return{chain:r,output:s}}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.block,regex:/^block\s+([a-zA-Z0-9_]+)$/,next:[e.logic.type.endblock],open:!0,compile:function(e){return e.block=e.match[1].trim(),delete e.match,e},parse:function(t,i,r){var n,a,s=e.indexOf(this.importedBlocks,t.block)>-1,o=this.blocks[t.block]&&e.indexOf(this.blocks[t.block],e.placeholders.parent)>-1;return(void 0===this.blocks[t.block]||s||o||i.loop||t.overwrite)&&(n=t.expression?e.expression.parse.apply(this,[{type:e.expression.type.string,value:e.expression.parse.apply(this,[t.output,i])},i]):e.expression.parse.apply(this,[{type:e.expression.type.string,value:e.parse.apply(this,[t.output,i])},i]),s&&this.importedBlocks.splice(this.importedBlocks.indexOf(t.block),1),o?this.blocks[t.block]=e.Markup(this.blocks[t.block].replace(e.placeholders.parent,n)):this.blocks[t.block]=n,
this.originalBlockTokens[t.block]={type:t.type,block:t.block,output:t.output,overwrite:!0}),a=this.child.blocks[t.block]?this.child.blocks[t.block]:this.blocks[t.block],{chain:r,output:a}}},{type:e.logic.type.shortblock,regex:/^block\s+([a-zA-Z0-9_]+)\s+(.+)$/,next:[],open:!0,compile:function(t){return t.expression=t.match[2].trim(),t.output=e.expression.compile({type:e.expression.type.expression,value:t.expression}).stack,t.block=t.match[1].trim(),delete t.match,t},parse:function(t,i,r){return e.logic.handler[e.logic.type.block].parse.apply(this,arguments)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+([a-zA-Z0-9_]+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(t){var i=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,t},parse:function(t,i,r){var n=e.expression.parse.apply(this,[t.stack,i]);return this.extend=n,{chain:r,output:""}}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(t){var i=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,t},parse:function(t,i,r){var n=e.expression.parse.apply(this,[t.stack,i]);return this.importBlocks(n),{chain:r,output:""}}},{type:e.logic.type.include,regex:/^include\s+(ignore missing\s+)?(.+?)\s*(?:with\s+([\S\s]+?))?\s*(only)?$/,next:[],open:!0,compile:function(t){var i=t.match,r=void 0!==i[1],n=i[2].trim(),a=i[3],s=void 0!==i[4]&&i[4].length;return delete t.match,t.only=s,t.includeMissing=r,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,void 0!==a&&(t.withStack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:a.trim()}]).stack),t},parse:function(t,i,r){var n,a,s,o={};if(t.only||(o=e.ChildContext(i)),void 0!==t.withStack){n=e.expression.parse.apply(this,[t.withStack,i]);for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a])}var p=e.expression.parse.apply(this,[t.stack,o]);return s=p instanceof e.Template?p:this.importFile(p),{chain:r,output:s.render(o)}}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse:function(t,i,r){var n=e.parse.apply(this,[t.output,i]),a=/>\s+</g,s=n.replace(a,"><").trim();return{chain:r,output:s}}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+([a-zA-Z0-9_]+)\s*\(\s*((?:[a-zA-Z0-9_]+(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile:function(t){for(var i=t.match[1],r=t.match[2].split(/[\s,]+/),n=0;n<r.length;n++)for(var a=0;a<r.length;a++)if(r[n]===r[a]&&n!==a)throw new e.Error("Duplicate arguments for parameter: "+r[n]);return t.macroName=i,t.parameters=r,delete t.match,t},parse:function(t,i,r){var n=this;return this.macros[t.macroName]=function(){for(var i={_self:n.macros},r=0;r<t.parameters.length;r++){var a=t.parameters[r];"undefined"!=typeof arguments[r]?i[a]=arguments[r]:i[a]=void 0}return e.parse.apply(n,[t.output,i])},{chain:r,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/,next:[],open:!0,compile:function(t){var i=t.match[1].trim(),r=t.match[2].trim();return delete t.match,t.expression=i,t.contextName=r,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,t},parse:function(t,i,r){if("_self"!==t.expression){var n=e.expression.parse.apply(this,[t.stack,i]),a=this.importFile(n||t.expression);i[t.contextName]=a.render({},{output:"macros"})}else i[t.contextName]=this.macros;return{chain:r,output:""}}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(t){for(var i=t.match[1].trim(),r=t.match[2].trim().split(/[ ,]+/),n={},a=0;a<r.length;a++){var s=r[a],o=s.match(/^([a-zA-Z0-9_]+)\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/);o?n[o[1].trim()]=o[2].trim():s.match(/^([a-zA-Z0-9_]+)$/)&&(n[s]=s)}return delete t.match,t.expression=i,t.macroNames=n,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,t},parse:function(t,i,r){var n;if("_self"!==t.expression){var a=e.expression.parse.apply(this,[t.stack,i]),s=this.importFile(a||t.expression);n=s.render({},{output:"macros"})}else n=this.macros;for(var o in t.macroNames)n.hasOwnProperty(o)&&(i[t.macroNames[o]]=n[o]);return{chain:r,output:""}}},{type:e.logic.type.embed,regex:/^embed\s+(ignore missing\s+)?(.+?)\s*(?:with\s+(.+?))?\s*(only)?$/,next:[e.logic.type.endembed],open:!0,compile:function(t){var i=t.match,r=void 0!==i[1],n=i[2].trim(),a=i[3],s=void 0!==i[4]&&i[4].length;return delete t.match,t.only=s,t.includeMissing=r,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,void 0!==a&&(t.withStack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:a.trim()}]).stack),t},parse:function(t,i,r){var n,a,s,o={};if(!t.only)for(a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);if(void 0!==t.withStack){n=e.expression.parse.apply(this,[t.withStack,i]);for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a])}var p=e.expression.parse.apply(this,[t.stack,o]);s=p instanceof e.Template?p:this.importFile(p),this.blocks={};e.parse.apply(this,[t.output,o]);return{chain:r,output:s.render(o,{blocks:this.blocks})}}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1}],e.logic.handler={},e.logic.extendType=function(t,i){i=i||"Twig.logic.type"+t,e.logic.type[t]=i},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){var i=t.value.trim(),r=e.logic.tokenize.apply(this,[i]),n=e.logic.handler[r.type];return n.compile&&(r=n.compile.apply(this,[r]),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",r)),r},e.logic.tokenize=function(t){var i={},r=null,n=null,a=null,s=null,o=null,p=null;t=t.trim();for(r in e.logic.handler)if(e.logic.handler.hasOwnProperty(r))for(n=e.logic.handler[r].type,a=e.logic.handler[r].regex,s=[],a instanceof Array?s=a:s.push(a);s.length>0;)if(o=s.shift(),p=o.exec(t.trim()),null!==p)return i.type=n,i.match=p,e.log.trace("Twig.logic.tokenize: ","Matched a ",n," regular expression of ",p),i;throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,i,r){var n,a="";return i=i||{},e.log.debug("Twig.logic.parse: ","Parsing logic token ",t),n=e.logic.handler[t.type],n.parse&&(a=n.parse.apply(this,[t,i,r])),a},e}(a||{}),a=function(e){"use strict";e.expression={},e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start]},e.expression.set.operations_extended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets]),e.expression.fn={compile:{push:function(e,t,i){i.push(e)},push_both:function(e,t,i){i.push(e),t.push(e)}},parse:{push:function(e,t,i){t.push(e)},push_value:function(e,t,i){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_][a-zA-Z0-9_]*)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile:function(e,t,i){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,i.push(e)},parse:function(t,i,r){var n=i.pop(),a=t.params&&e.expression.parse.apply(this,[t.params,r]),s=e.test(t.filter,n,a);"not"==t.modifier?i.push(!s):i.push(s)}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile:function(t,i,r){var n,a=i.length-1;for(delete t.match,delete t.value;a>=0;a--){if(n=i.pop(),n.type===e.expression.type.object.start||n.type===e.expression.type.parameter.start||n.type===e.expression.type.array.start){i.push(n);break}r.push(n)}r.push(t)}},{type:e.expression.type.operator.binary,regex:/(^[\+\-~%\?\:]|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^and\s+|^or\s+|^in\s+|^not in\s+|^\.\.)/,next:e.expression.set.expressions.concat([e.expression.type.operator.unary]),compile:function(t,i,r){delete t.match,t.value=t.value.trim();var n=t.value,a=e.expression.operator.lookup(n,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",a," from ",n);i.length>0&&(i[i.length-1].type==e.expression.type.operator.unary||i[i.length-1].type==e.expression.type.operator.binary)&&(a.associativity===e.expression.operator.leftToRight&&a.precidence>=i[i.length-1].precidence||a.associativity===e.expression.operator.rightToLeft&&a.precidence>i[i.length-1].precidence);){var s=i.pop();r.push(s)}if(":"===n){if(!i[i.length-1]||"?"!==i[i.length-1].value){var o=r.pop();if(o.type===e.expression.type.string||o.type===e.expression.type.variable)t.key=o.value;else if(o.type===e.expression.type.number)t.key=o.value.toString();else{if(o.type!==e.expression.type.parameter.end||!o.expression)throw new e.Error("Unexpected value before ':' of "+o.type+" = "+o.value);t.params=o.params}return void r.push(t)}}else i.push(a)},parse:function(t,i,r){t.key?i.push(t):t.params?(t.key=e.expression.parse.apply(this,[t.params,r]),i.push(t),delete t.params):e.expression.operator.parse(t.value,i)}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile:function(t,i,r){delete t.match,t.value=t.value.trim();var n=t.value,a=e.expression.operator.lookup(n,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",a," from ",n);i.length>0&&(i[i.length-1].type==e.expression.type.operator.unary||i[i.length-1].type==e.expression.type.operator.binary)&&(a.associativity===e.expression.operator.leftToRight&&a.precidence>=i[i.length-1].precidence||a.associativity===e.expression.operator.rightToLeft&&a.precidence>i[i.length-1].precidence);){var s=i.pop();r.push(s)}i.push(a)},parse:function(t,i,r){e.expression.operator.parse(t.value,i)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operations,compile:function(t,i,r){var n=t.value;delete t.match,n='"'===n.substring(0,1)?n.replace('\\"','"'):n.replace("\\'","'"),t.value=n.substring(1,n.length-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),r.push(t)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operations_extended,compile:function(t,i,r){var n,a=t;for(n=i.pop();i.length>0&&n.type!=e.expression.type.parameter.start;)r.push(n),n=i.pop();for(var s=[];t.type!==e.expression.type.parameter.start;)s.unshift(t),t=r.pop();s.unshift(t);t=r[r.length-1],void 0===t||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets&&t.type!==e.expression.type.key.period?(a.expression=!0,s.pop(),s.shift(),a.params=s,r.push(a)):(a.expression=!1,t.params=s)},parse:function(t,i,r){var n=[],a=!1,s=null;if(t.expression)s=e.expression.parse.apply(this,[t.params,r]),i.push(s);else{for(;i.length>0;){if(s=i.pop(),s&&s.type&&s.type==e.expression.type.parameter.start){a=!0;break}n.unshift(s)}if(!a)throw new e.Error("Expected end of parameter set.");i.push(n)}}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operations_extended,compile:function(t,i,r){for(var n,a=i.length-1;a>=0&&(n=i.pop(),n.type!==e.expression.type.array.start);a--)r.push(n);r.push(t)},parse:function(t,i,r){for(var n=[],a=!1,s=null;i.length>0;){if(s=i.pop(),s.type&&s.type==e.expression.type.array.start){a=!0;break}n.unshift(s)}if(!a)throw new e.Error("Expected end of array.");i.push(n)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operations_extended,compile:function(t,i,r){for(var n,a=i.length-1;a>=0&&(n=i.pop(),!n||n.type!==e.expression.type.object.start);a--)r.push(n);r.push(t)},parse:function(t,i,r){for(var n={},a=!1,s=null,o=!1,p=null;i.length>0;){if(s=i.pop(),s&&s.type&&s.type===e.expression.type.object.start){a=!0;break}if(s&&s.type&&(s.type===e.expression.type.operator.binary||s.type===e.expression.type.operator.unary)&&s.key){if(!o)throw new e.Error("Missing value for key '"+s.key+"' in object definition.");n[s.key]=p,void 0===n._keys&&(n._keys=[]),n._keys.unshift(s.key),p=null,o=!1}else o=!0,p=s}if(!a)throw new e.Error("Unexpected end of object.");i.push(n)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_\-]*)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,i){e.value=e.match[1],i.push(e)},parse:function(t,i,r){var n=i.pop(),a=t.params&&e.expression.parse.apply(this,[t.params,r]);i.push(e.filter.apply(this,[t.value,n,a]))}},{type:e.expression.type._function,regex:/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/,next:e.expression.type.parameter.start,transform:function(e,t){return"("},compile:function(e,t,i){var r=e.match[1];e.fn=r,delete e.match,delete e.value,i.push(e)},parse:function(t,i,r){var n,a=t.params&&e.expression.parse.apply(this,[t.params,r]),s=t.fn;if(e.functions[s])n=e.functions[s].apply(this,a);else{if("function"!=typeof r[s])throw new e.Error(s+" function does not exist and is not defined in the context");n=r[s].apply(r,a)}i.push(n)}},{type:e.expression.type.variable,regex:/^[a-zA-Z_][a-zA-Z0-9_]*/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate:function(t,i){return e.indexOf(e.expression.reservedWords,t[0])<0},parse:function(t,i,r){var n=e.expression.resolve(r[t.value],r);i.push(n)}},{type:e.expression.type.key.period,regex:/^\.([a-zA-Z0-9_]+)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,i){e.key=e.match[1],delete e.match,delete e.value,i.push(e)},parse:function(t,i,r){var n,a=t.params&&e.expression.parse.apply(this,[t.params,r]),s=t.key,o=i.pop();if(null===o||void 0===o){if(this.options.strict_variables)throw new e.Error("Can't access a key "+s+" on an null or undefined object.");return null}var p=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)};n="object"==typeof o&&s in o?o[s]:void 0!==o["get"+p(s)]?o["get"+p(s)]:void 0!==o["is"+p(s)]?o["is"+p(s)]:void 0,i.push(e.expression.resolve(n,o,a))}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(t,i,r){var n=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:n}).stack,r.push(t)},parse:function(t,i,r){var n,a=t.params&&e.expression.parse.apply(this,[t.params,r]),s=e.expression.parse.apply(this,[t.stack,r]),o=i.pop();if(null===o||void 0===o){if(this.options.strict_variables)throw new e.Error("Can't access a key "+s+" on an null or undefined object.");return null}n="object"==typeof o&&s in o?o[s]:null,i.push(e.expression.resolve(n,o,a))}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile:function(e,t,i){delete e.match,e.value=null,i.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse:function(e,t,i){t.push(i)}},{type:e.expression.type.number,regex:/^\-?\d+(\.\d+)?/,next:e.expression.set.operations,compile:function(e,t,i){e.value=Number(e.value),i.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile:function(e,t,i){e.value="true"===e.match[0].toLowerCase(),delete e.match,i.push(e)},parse:e.expression.fn.parse.push_value}],e.expression.resolve=function(e,t,i){return"function"==typeof e?e.apply(t,i||[]):e},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};for(;e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){var i,r,n,a,s,o,p=[],l=0,c=null,u=[];for(o=function(){var t=Array.prototype.slice.apply(arguments);t.pop(),t.pop();return e.log.trace("Twig.expression.tokenize","Matched a ",i," regular expression of ",t),c&&e.indexOf(c,i)<0?(u.push(i+" cannot follow a "+p[p.length-1].type+" at template:"+l+" near '"+t[0].substring(0,20)+"...'"),t[0]):e.expression.handler[i].validate&&!e.expression.handler[i].validate(t,p)?t[0]:(u=[],p.push({type:i,value:t[0],match:t}),s=!0,c=a,l+=t[0].length,e.expression.handler[i].transform?e.expression.handler[i].transform(t,p):"")},e.log.debug("Twig.expression.tokenize","Tokenizing expression ",t);t.length>0;){t=t.trim();for(i in e.expression.handler)if(e.expression.handler.hasOwnProperty(i)){for(a=e.expression.handler[i].next,r=e.expression.handler[i].regex,n=r instanceof Array?r:[r],s=!1;n.length>0;)r=n.pop(),t=t.replace(r,o);if(s)break}if(!s)throw u.length>0?new e.Error(u.join(" OR ")):new e.Error("Unable to parse '"+t+"' at template position"+l)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",p),p},e.expression.compile=function(t){var i=t.value,r=e.expression.tokenize(i),n=null,a=[],s=[],o=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",i);r.length>0;)n=r.shift(),o=e.expression.handler[n.type],e.log.trace("Twig.expression.compile: ","Compiling ",n),o.compile&&o.compile(n,s,a),e.log.trace("Twig.expression.compile: ","Stack is",s),e.log.trace("Twig.expression.compile: ","Output is",a);for(;s.length>0;)a.push(s.pop());return e.log.trace("Twig.expression.compile: ","Final output is",a),t.stack=a,delete t.value,t},e.expression.parse=function(t,i){var r=this;t instanceof Array||(t=[t]);var n=[],a=null;return e.forEach(t,function(t){a=e.expression.handler[t.type],a.parse&&a.parse.apply(r,[t,n,i])}),n.pop()},e}(a||{}),a=function(e){"use strict";e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var t=function(e,t){if(void 0===t||null===t)return null;if(void 0!==t.indexOf)return e===t||""!==e&&t.indexOf(e)>-1;var i;for(i in t)if(t.hasOwnProperty(i)&&t[i]===e)return!0;return!1};return e.expression.operator.lookup=function(t,i){switch(t){case"..":case"not in":case"in":i.precidence=20,i.associativity=e.expression.operator.leftToRight;break;case",":i.precidence=18,i.associativity=e.expression.operator.leftToRight;break;case"?":case":":i.precidence=16,i.associativity=e.expression.operator.rightToLeft;break;case"or":i.precidence=14,i.associativity=e.expression.operator.leftToRight;break;case"and":i.precidence=13,i.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":i.precidence=9,i.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":i.precidence=8,i.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":i.precidence=6,i.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":i.precidence=5,i.associativity=e.expression.operator.leftToRight;break;case"not":i.precidence=3,i.associativity=e.expression.operator.rightToLeft;break;default:throw new e.Error(t+" is an unknown operator.")}return i.operator=t,i},e.expression.operator.parse=function(i,r){e.log.trace("Twig.expression.operator.parse: ","Handling ",i);var n,a,s;switch(i){case":":break;case"?":s=r.pop(),a=r.pop(),n=r.pop(),n?r.push(a):r.push(s);break;case"+":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n+a);break;case"-":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n-a);break;case"*":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n*a);break;case"/":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n/a);break;case"//":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(parseInt(n/a));break;case"%":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n%a);break;case"~":a=r.pop(),n=r.pop(),r.push((null!=n?n.toString():"")+(null!=a?a.toString():""));break;case"not":case"!":r.push(!r.pop());break;case"<":a=r.pop(),n=r.pop(),r.push(n<a);break;case"<=":a=r.pop(),n=r.pop(),r.push(n<=a);break;case">":a=r.pop(),n=r.pop(),r.push(n>a);break;case">=":a=r.pop(),n=r.pop(),r.push(n>=a);break;case"===":a=r.pop(),n=r.pop(),r.push(n===a);break;case"==":a=r.pop(),n=r.pop(),r.push(n==a);break;case"!==":a=r.pop(),n=r.pop(),r.push(n!==a);break;case"!=":a=r.pop(),n=r.pop(),r.push(n!=a);break;case"or":a=r.pop(),n=r.pop(),r.push(n||a);break;case"and":a=r.pop(),n=r.pop(),r.push(n&&a);break;case"**":a=r.pop(),n=r.pop(),r.push(Math.pow(n,a));break;case"not in":a=r.pop(),n=r.pop(),r.push(!t(n,a));break;case"in":a=r.pop(),n=r.pop(),r.push(t(n,a));break;case"..":a=r.pop(),n=r.pop(),r.push(e.functions.range(n,a));break;default:throw new e.Error(i+" is an unknown operator.")}},e}(a||{}),a=function(e){function t(e,t){var i=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&i===e}return e.filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.substr(0,1).toUpperCase()+e.toLowerCase().substr(1)},title:function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,function(e,t,i){return t+i.toUpperCase()})},length:function(t){return e.lib.is("Array",t)||"string"==typeof t?t.length:e.lib.is("Object",t)?void 0===t._keys?Object.keys(t).length:t._keys.length:0},reverse:function(e){if(t("Array",e))return e.reverse();if(t("String",e))return e.split("").reverse().join("");if(t("Object",e)){var i=e._keys||Object.keys(e).reverse();return e._keys=i,e}},sort:function(e){if(t("Array",e))return e.sort();if(t("Object",e)){delete e._keys;var i=Object.keys(e),r=i.sort(function(t,i){var r;return e[t]>e[i]==!(e[t]<=e[i])?e[t]>e[i]?1:e[t]<e[i]?-1:0:isNaN(r=parseFloat(e[t]))||isNaN(b1=parseFloat(e[i]))?"string"==typeof e[t]?e[t]>e[i].toString()?1:e[t]<e[i].toString()?-1:0:"string"==typeof e[i]?e[t].toString()>e[i]?1:e[t].toString()<e[i]?-1:0:null:r>b1?1:r<b1?-1:0});return e._keys=r,e}},keys:function(t){if(void 0!==t&&null!==t){var i=t._keys||Object.keys(t),r=[];return e.forEach(i,function(e){"_keys"!==e&&t.hasOwnProperty(e)&&r.push(e)}),r}},url_encode:function(e){if(void 0!==e&&null!==e){var t=encodeURIComponent(e);return t=t.replace("'","%27")}},join:function(i,r){if(void 0!==i&&null!==i){var n="",a=[],s=null;return r&&r[0]&&(n=r[0]),t("Array",i)?a=i:(s=i._keys||Object.keys(i),e.forEach(s,function(e){"_keys"!==e&&i.hasOwnProperty(e)&&a.push(i[e])})),a.join(n)}},default:function(t,i){if(void 0!==i&&i.length>1)throw new e.Error("default filter expects one argument");return void 0===t||null===t||""===t?void 0===i?"":i[0]:t},json_encode:function(i){if(void 0===i||null===i)return"null";if("object"==typeof i&&t("Array",i))return n=[],e.forEach(i,function(t){n.push(e.filters.json_encode(t))}),"["+n.join(",")+"]";if("object"==typeof i){var r=i._keys||Object.keys(i),n=[];return e.forEach(r,function(t){n.push(JSON.stringify(t)+":"+e.filters.json_encode(i[t]))}),"{"+n.join(",")+"}"}return JSON.stringify(i)},merge:function(i,r){var n=[],a=0,s=[];if(t("Array",i)?e.forEach(r,function(e){t("Array",e)||(n={})}):n={},t("Array",n)||(n._keys=[]),t("Array",i)?e.forEach(i,function(e){n._keys&&n._keys.push(a),n[a]=e,a++}):(s=i._keys||Object.keys(i),e.forEach(s,function(e){n[e]=i[e],n._keys.push(e);var t=parseInt(e,10);!isNaN(t)&&t>=a&&(a=t+1)})),e.forEach(r,function(i){t("Array",i)?e.forEach(i,function(e){n._keys&&n._keys.push(a),n[a]=e,a++}):(s=i._keys||Object.keys(i),e.forEach(s,function(e){n[e]||n._keys.push(e),n[e]=i[e];var t=parseInt(e,10);!isNaN(t)&&t>=a&&(a=t+1)}))}),0===r.length)throw new e.Error("Filter merge expects at least one parameter");return n},date:function(t,i){var r=e.functions.date(t),n=i&&i.length?i[0]:"F j, Y H:i";return e.lib.formatDate(r,n)},date_modify:function(t,i){if(void 0!==t&&null!==t){if(void 0===i||1!==i.length)throw new e.Error("date_modify filter expects 1 argument");var r,n=i[0];return e.lib.is("Date",t)&&(r=e.lib.strtotime(n,t.getTime()/1e3)),e.lib.is("String",t)&&(r=e.lib.strtotime(n,e.lib.strtotime(t))),e.lib.is("Number",t)&&(r=e.lib.strtotime(n,t)),new Date(1e3*r)}},replace:function(t,i){if(void 0!==t&&null!==t){var r,n=i[0];for(r in n)n.hasOwnProperty(r)&&"_keys"!==r&&(t=e.lib.replaceAll(t,r,n[r]));return t}},format:function(t,i){if(void 0!==t&&null!==t)return e.lib.vsprintf(t,i)},striptags:function(t){if(void 0!==t&&null!==t)return e.lib.strip_tags(t)},escape:function(t,i){if(void 0!==t&&null!==t){var r="html";if(i&&i.length&&i[0]!==!0&&(r=i[0]),"html"==r){var n=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return e.Markup(n,"html")}if("js"==r){for(var n=t.toString(),a="",s=0;s<n.length;s++)if(n[s].match(/^[a-zA-Z0-9,\._]$/))a+=n[s];else{var o=n.charCodeAt(s);a+=o<128?"\\x"+o.toString(16).toUpperCase():e.lib.sprintf("\\u%04s",o.toString(16).toUpperCase())}return e.Markup(a,"js")}if("css"==r){for(var n=t.toString(),a="",s=0;s<n.length;s++)if(n[s].match(/^[a-zA-Z0-9]$/))a+=n[s];else{var o=n.charCodeAt(s);a+="\\"+o.toString(16).toUpperCase()+" "}return e.Markup(a,"css")}if("url"==r){var a=e.filters.url_encode(t);return e.Markup(a,"url")}if("html_attr"==r){for(var n=t.toString(),a="",s=0;s<n.length;s++)if(n[s].match(/^[a-zA-Z0-9,\.\-_]$/))a+=n[s];else if(n[s].match(/^[&<>"]$/))a+=n[s].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{var o=n.charCodeAt(s);a+=o<=31&&9!=o&&10!=o&&13!=o?"&#xFFFD;":o<128?e.lib.sprintf("&#x%02s;",o.toString(16).toUpperCase()):e.lib.sprintf("&#x%04s;",o.toString(16).toUpperCase())}return e.Markup(a,"html_attr")}throw new e.Error("escape strategy unsupported")}},e:function(t,i){return e.filters.escape(t,i)},nl2br:function(t){if(void 0!==t&&null!==t){var i="BACKSLASH_n_replace",r="<br />"+i;return t=e.filters.escape(t).replace(/\r\n/g,r).replace(/\r/g,r).replace(/\n/g,r),t=e.lib.replaceAll(t,i,"\n"),e.Markup(t)}},number_format:function(e,t){var i=e,r=t&&t[0]?t[0]:void 0,n=t&&void 0!==t[1]?t[1]:".",a=t&&void 0!==t[2]?t[2]:",";i=(i+"").replace(/[^0-9+\-Ee.]/g,"");var s=isFinite(+i)?+i:0,o=isFinite(+r)?Math.abs(r):0,p="",l=function(e,t){var i=Math.pow(10,t);return""+Math.round(e*i)/i};return p=(o?l(s,o):""+Math.round(s)).split("."),p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(p[1]||"").length<o&&(p[1]=p[1]||"",p[1]+=new Array(o-p[1].length+1).join("0")),p.join(n)},trim:function(t,i){if(void 0!==t&&null!==t){var r,n=e.filters.escape(""+t);r=i&&i[0]?""+i[0]:" \n\r\t\f\v            ​\u2028\u2029　";for(var a=0;a<n.length;a++)if(r.indexOf(n.charAt(a))===-1){n=n.substring(a);break}for(a=n.length-1;a>=0;a--)if(r.indexOf(n.charAt(a))===-1){n=n.substring(0,a+1);break}return r.indexOf(n.charAt(0))===-1?n:""}},truncate:function(e,t){var i=30,r=!1,n="...";if(e+="",t&&(t[0]&&(i=t[0]),t[1]&&(r=t[1]),t[2]&&(n=t[2])),e.length>i){if(r&&(i=e.indexOf(" ",i),i===-1))return e;e=e.substr(0,i)+n}return e},slice:function(t,i){if(void 0!==t&&null!==t){if(void 0===i||i.length<1)throw new e.Error("slice filter expects at least 1 argument");var r=i[0]||0,n=i.length>1?i[1]:t.length,a=r>=0?r:Math.max(t.length+r,0);if(e.lib.is("Array",t)){for(var s=[],o=a;o<a+n&&o<t.length;o++)s.push(t[o]);return s}if(e.lib.is("String",t))return t.substr(a,n);throw new e.Error("slice filter expects value to be an array or string")}},abs:function(e){if(void 0!==e&&null!==e)return Math.abs(e)},first:function(e){if(t("Array",e))return e[0];if(t("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.substr(0,1)},split:function(t,i){if(void 0!==t&&null!==t){if(void 0===i||i.length<1||i.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){var r=i[0],n=i[1],a=t.split(r);if(void 0===n)return a;if(n<0)return t.split(r,a.length+n);var s=[];if(""==r)for(;a.length>0;){for(var o="",p=0;p<n&&a.length>0;p++)o+=a.shift();s.push(o)}else{for(var p=0;p<n-1&&a.length>0;p++)s.push(a.shift());a.length>0&&s.push(a.join(r))}return s}throw new e.Error("split filter expects value to be a string")}},last:function(t){if(e.lib.is("Object",t)){var i;return i=void 0===t._keys?Object.keys(t):t._keys,t[i[i.length-1]]}return t[t.length-1]},raw:function(t){return e.Markup(t)},batch:function(t,i){var r,n,a,s=i.shift(),o=i.shift();if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",s))throw new e.Error("batch filter expects size to be a number");if(s=Math.ceil(s),r=e.lib.chunkArray(t,s),o&&t.length%s!=0){for(n=r.pop(),a=s-n.length;a--;)n.push(o);r.push(n)}return r},round:function(t,i){i=i||[];var r=i.length>0?i[0]:0,n=i.length>1?i[1]:"common";if(t=parseFloat(t),r&&!e.lib.is("Number",r))throw new e.Error("round filter expects precision to be a number");if("common"===n)return e.lib.round(t,r);if(!e.lib.is("Function",Math[n]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[n](t*Math.pow(10,r))/Math.pow(10,r)}},e.filter=function(t,i,r){if(!e.filters[t])throw"Unable to find filter "+t;return e.filters[t].apply(this,[i,r])},e.filter.extend=function(t,i){e.filters[t]=i},e}(a||{}),a=function(t){var i='Template "{name}" is not defined.';return t.functions={range:function(e,t,i){var r,n,a,s=[],o=i||1,p=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(p=!0,r=e.charCodeAt(0),n=t.charCodeAt(0)):(r=isNaN(e)?0:e,n=isNaN(t)?0:t):(r=parseInt(e,10),n=parseInt(t,10)),a=!(r>n))for(;r<=n;)s.push(p?String.fromCharCode(r):r),r+=o;else for(;r>=n;)s.push(p?String.fromCharCode(r):r),r-=o;return s},cycle:function(e,t){var i=t%e.length;return e[i]},dump:function(){var e="\n",i="  ",r=0,n="",a=Array.prototype.slice.call(arguments),s=function(e){
for(var t="";e>0;)e--,t+=i;return t},o=function(t){n+=s(r),"object"==typeof t?p(t):"function"==typeof t?n+="function()"+e:"string"==typeof t?n+="string("+t.length+') "'+t+'"'+e:"number"==typeof t?n+="number("+t+")"+e:"boolean"==typeof t&&(n+="bool("+t+")"+e)},p=function(t){var i;if(null===t)n+="NULL"+e;else if(void 0===t)n+="undefined"+e;else if("object"==typeof t){n+=s(r)+typeof t,r++,n+="("+function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(t)+") {"+e;for(i in t)n+=s(r)+"["+i+"]=> "+e,o(t[i]);r--,n+=s(r)+"}"+e}else o(t)};return 0==a.length&&a.push(this.context),t.forEach(a,function(e){p(e)}),n},date:function(e,i){var r;if(void 0===e)r=new Date;else if(t.lib.is("Date",e))r=e;else if(t.lib.is("String",e))r=e.match(/^[0-9]+$/)?new Date(1e3*e):new Date(1e3*t.lib.strtotime(e));else{if(!t.lib.is("Number",e))throw new t.Error("Unable to parse date "+e);r=new Date(1e3*e)}return r},block:function(e){return this.originalBlockTokens[e]?t.logic.parse.apply(this,[this.originalBlockTokens[e],this.context]).output:this.blocks[e]},parent:function(){return t.placeholders.parent},attribute:function(e,i,r){return t.lib.is("Object",e)&&e.hasOwnProperty(i)?"function"==typeof e[i]?e[i].apply(void 0,r):e[i]:e[i]||void 0},max:function(e){return t.lib.is("Object",e)?(delete e._keys,t.lib.max(e)):t.lib.max.apply(null,arguments)},min:function(e){return t.lib.is("Object",e)?(delete e._keys,t.lib.min(e)):t.lib.min.apply(null,arguments)},template_from_string:function(e){return void 0===e&&(e=""),t.Templates.parsers.twig({options:this.options,data:e})},random:function(e){function i(e){var t=Math.floor(Math.random()*r),i=[0,e],n=Math.min.apply(null,i),a=Math.max.apply(null,i);return n+Math.floor((a-n+1)*t/r)}var r=2147483648;if(t.lib.is("Number",e))return i(e);if(t.lib.is("String",e))return e.charAt(i(e.length-1));if(t.lib.is("Array",e))return e[i(e.length-1)];if(t.lib.is("Object",e)){var n=Object.keys(e);return e[n[i(n.length-1)]]}return i(r-1)},source:function(r,a){var s,o,p,l=!1,c="undefined"!=typeof n&&"undefined"!=typeof n.exports&&"undefined"==typeof window;c?(o="fs",p=e+"/"+r):(o="ajax",p=r);var u={id:r,path:p,method:o,parser:"source",async:!1,fetchTemplateSource:!0};"undefined"==typeof a&&(a=!1);try{s=t.Templates.loadRemote(r,u),"undefined"==typeof s||null===s?s="":l=!0}catch(e){t.log.debug("Twig.functions.source: ","Problem loading template  ",e)}return l||a?s:i.replace("{name}",r)}},t._function=function(e,i,r){if(!t.functions[e])throw"Unable to find function "+e;return t.functions[e](i,r)},t._function.extend=function(e,i){t.functions[e]=i},t}(a||{}),a=function(e){"use strict";return e.path={},e.path.parsePath=function(t,i){var r=null,i=i||"";if("object"==typeof t&&"object"==typeof t.options&&(r=t.options.namespaces),"object"==typeof r&&i.indexOf("::")>0||i.indexOf("@")>=0){for(var n in r)r.hasOwnProperty(n)&&(i=i.replace(n+"::",r[n]),i=i.replace("@"+n,r[n]));return i}return e.path.relativePath(t,i)},e.path.relativePath=function(t,r){var n,a,s,o="/",p=[],r=r||"";if(t.url)n="undefined"!=typeof t.base?t.base+("/"===t.base.charAt(t.base.length-1)?"":"/"):t.url;else if(t.path){var l=i(16),c=l.sep||o,u=new RegExp("^\\.{1,2}"+c.replace("\\","\\\\"));r=r.replace(/\//g,c),void 0!==t.base&&null==r.match(u)?(r=r.replace(t.base,""),n=t.base+c):n=l.normalize(t.path),n=n.replace(c+c,c),o=c}else{if(!t.name&&!t.id||!t.method||"fs"===t.method||"ajax"===t.method)throw new e.Error("Cannot extend an inline template.");n=t.base||t.name||t.id}for(a=n.split(o),a.pop(),a=a.concat(r.split(o));a.length>0;)s=a.shift(),"."==s||(".."==s&&p.length>0&&".."!=p[p.length-1]?p.pop():p.push(s));return p.join(o)},e}(a||{}),a=function(e){"use strict";return e.tests={empty:function(e){if(null===e||void 0===e)return!0;if("number"==typeof e)return!1;if(e.length&&e.length>0)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},odd:function(e){return e%2===1},even:function(e){return e%2===0},divisibleby:function(e,t){return e%t[0]===0},defined:function(e){return void 0!==e},none:function(e){return null===e},null:function(e){return this.none(e)},sameas:function(e,t){return e===t[0]},iterable:function(t){return t&&(e.lib.is("Array",t)||e.lib.is("Object",t))}},e.test=function(t,i,r){if(!e.tests[t])throw"Test "+t+" is not defined.";return e.tests[t](i,r)},e.test.extend=function(t,i){e.tests[t]=i},e}(a||{}),a=function(e){"use strict";return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){var i=t.id,r={strict_variables:t.strict_variables||!1,autoescape:null!=t.autoescape&&t.autoescape||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1,namespaces:t.namespaces};if(e.cache&&i&&e.validateId(i),void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),void 0!==t.data)return e.Templates.parsers.twig({data:t.data,path:t.hasOwnProperty("path")?t.path:void 0,module:t.module,id:i,options:r});if(void 0!==t.ref){if(void 0!==t.id)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}if(void 0!==t.method){if(!e.Templates.isRegisteredLoader(t.method))throw new e.Error('Loader for "'+t.method+'" is not defined.');return e.Templates.loadRemote(t.name||t.href||t.path||i||void 0,{id:i,method:t.method,parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error)}return void 0!==t.href?e.Templates.loadRemote(t.href,{id:i,method:"ajax",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error):void 0!==t.path?e.Templates.loadRemote(t.path,{id:i,method:"fs",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error):void 0},e.exports.extendFilter=function(t,i){e.filter.extend(t,i)},e.exports.extendFunction=function(t,i){e._function.extend(t,i)},e.exports.extendTest=function(t,i){e.test.extend(t,i)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,i){var r,n=i.filename,a=i.filename;return r=new e.Template({data:t,path:a,id:n,options:i.settings["twig options"]}),function(e){return r.render(e)}},e.exports.renderFile=function(t,i,r){"function"==typeof i&&(r=i,i={}),i=i||{};var n=i.settings||{},a={path:t,base:n.views,load:function(e){r(null,e.render(i))}},s=n["twig options"];if(s)for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o]);e.exports.twig(a)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e.exports.path=e.path,e}(a||{}),a=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,i){var r,n=JSON.stringify(t.tokens),a=t.id;if(i.module){if(void 0===e.compiler.module[i.module])throw new e.Error("Unable to find module type "+i.module);r=e.compiler.module[i.module](a,n,i.twig)}else r=e.compiler.wrap(a,n);return r},e.compiler.module={amd:function(t,i,r){return'define(["'+r+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+e.compiler.wrap(t,i)+"\n\treturn templates;\n});"},node:function(t,i){return'var twig = require("twig").twig;\nexports.template = '+e.compiler.wrap(t,i)},cjs2:function(t,i,r){return'module.declare([{ twig: "'+r+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+e.compiler.wrap(t,i)+"\n});"}},e.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},e}(a||{});"undefined"!=typeof n&&n.declare?n.declare([],function(e,t,i){for(key in a.exports)a.exports.hasOwnProperty(key)&&(t[key]=a.exports[key])}):(r=function(){return a.exports}.call(t,i,t,n),!(void 0!==r&&(n.exports=r)))}).call(t,"/",i(14)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){},function(e,t,i){(function(e){function i(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],r=0;r<e.length;r++)t(e[r],r,e)&&i.push(e[r]);return i}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return n.exec(e).slice(1)};t.resolve=function(){for(var t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var s=a>=0?arguments[a]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,n="/"===s.charAt(0))}return t=i(r(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),a="/"===s(e,-1);return e=i(r(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,i){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var n=r(e.split("/")),a=r(i.split("/")),s=Math.min(n.length,a.length),o=s,p=0;p<s;p++)if(n[p]!==a[p]){o=p;break}for(var l=[],p=o;p<n.length;p++)l.push("..");return l=l.concat(a.slice(o)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=a(e),i=t[0],r=t[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},t.basename=function(e,t){var i=a(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){return a(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(t,i(17))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(u===clearTimeout)return clearTimeout(e);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function s(){g&&d&&(g=!1,d.length?h=d.concat(h):f=-1,h.length&&o())}function o(){if(!g){var e=n(s);g=!0;for(var t=h.length;t;){for(d=h,h=[];++f<t;)d&&d[f].run();f=-1,t=h.length}d=null,g=!1,a(e)}}function p(e,t){this.fun=e,this.array=t}function l(){}var c,u,y=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(e){u=r}}();var d,h=[],g=!1,f=-1;y.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new p(e,t)),1!==h.length||g||n(o)},p.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=l,y.addListener=l,y.once=l,y.off=l,y.removeListener=l,y.removeAllListeners=l,y.emit=l,y.prependListener=l,y.prependOnceListener=l,y.listeners=function(e){return[]},y.binding=function(e){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(e){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return u.innerHTML=e,u.textContent}var a=i(13),s=r(a),o=i(5),p=r(o),l=i(6),c=r(l),u=document.createElement("div");s.default.extendFilter("t",function(e,t){return p.default.t("neo",n(e),t)}),s.default.extendFilter("ns",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"field";switch(t){case"input":case"field":return c.default.fieldName(e);case"id":return c.default.value(e,"-");case"js":return c.default.value(e,".")}return c.default.value(e,"-")});var y=0;s.default.extendFunction("uniqueId",function(){return"uid"+y++})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),s=i(4),o=r(s),p=i(5),l=r(p),c=i(6),u=r(c),y={namespace:[],html:"",layout:[],id:-1,blockId:null,blockName:""};t.default=o.default.Base.extend({_templateNs:[],_blockName:"",init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({},y,t),this._templateNs=u.default.parse(t.namespace),this._id=0|t.id,this._blockTypeId=t.blockTypeId,this.setBlockName(t.blockName),this.$container=(0,a.default)(t.html).find(".layoutdesigner"),this.$container.removeAttr("id");var i=this.$container.find('input[name="fieldLayout"]');i.length>0&&(i[0].name="neoBlockType"+this._blockTypeId+"[fieldLayout]"),u.default.enter(this._templateNs),this._fld=new l.default.FieldLayoutDesigner(this.$container,{customizableTabs:!0,customizableUi:!0}),u.default.leave(),this._tabObserver=new window.MutationObserver(function(){var t="[data-type=benf\\\\neo\\\\fieldlayoutelements\\\\ChildBlocksUiElement]",i=e._fld.$uiLibraryElements.filter(t),r=e._fld.$tabContainer.find(t);i.toggleClass("hidden",r.length>0||(0,a.default)("body.dragging .draghelper"+t).length>0),r.hasClass("velocity-animating")&&r.removeClass("hidden")});var r=!0,n=!1,s=void 0;try{for(var o,p=t.layout[Symbol.iterator]();!(r=(o=p.next()).done);r=!0){var c=o.value,d=this.addTab(c.name),h=!0,g=!1,f=void 0;try{for(var m,v=c.elements[Symbol.iterator]();!(h=(m=v.next()).done);h=!0){var x=m.value;this.addElementToTab(d,x)}}catch(e){g=!0,f=e}finally{try{!h&&v.return&&v.return()}finally{if(g)throw f}}}}catch(e){n=!0,s=e}finally{try{!r&&p.return&&p.return()}finally{if(n)throw s}}},getId:function(){return this._id},getBlockTypeId:function(){return this._blockTypeId},getBlockName:function(){return this._blockName},setBlockName:function(e){this._blockName=e},addTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Tab"+(this._fld.tabGrid.$items.length+1),t=this._fld,i=(0,a.default)('\n      <div class="fld-tab">\n        <div class="tabs">\n          <div class="tab sel draggable">\n            <span>'+e+'</span>\n            <a class="settings icon" title="'+l.default.t("neo","Rename")+'"></a>\n          </div>\n        </div>\n        <div class="fld-tabcontent"></div>\n      </div>\n    ').appendTo(t.$tabContainer);return t.tabGrid.addItems(i),t.tabDrag.addItems(i),this.$container.appendTo(document.body),t.initTab(i),this._tabObserver.observe(i.children(".fld-tabcontent")[0],{childList:!0,subtree:!0}),i},addElementToTab:function(e,t){var i=e.find(".fld-tabcontent"),r=null;if("craft\\fieldlayoutelements\\CustomField"===t.type){var n=this._fld.$fields.filter('[data-id="'+t.id+'"]'),s=t.config.required&&"0"!==t.config.required;r=n.clone().toggleClass("fld-required",s);var o=(0,a.default)('<span class="fld-required-indicator" title="'+l.default.t("app","This field is required")+'"></span>'),p=r.find(".fld-element-label");t.config.label&&("__blank__"===t.config.label?(p.remove(),s&&(p=r.find(".fld-attribute"))):p.children("h4").text(t.config.label)),s&&p.append(o),n.addClass("hidden")}else{r=this._fld.$uiLibraryElements.filter(function(){var e=(0,a.default)(this),i=e.data("type"),r=e.data("config").style;return i===t.type&&(!r||r===t.config.style)}).clone();var c=null;switch(t.type){case"craft\\fieldlayoutelements\\Tip":c=t.config.tip;break;case"craft\\fieldlayoutelements\\Heading":c=t.config.heading;break;case"craft\\fieldlayoutelements\\Template":c=t.config.template}if(c){var u=r.find(".fld-element-label");u.text(c),u.toggleClass("code","craft\\fieldlayoutelements\\Template"===t.type)}}r.removeClass("unused"),i.append(r),r.data("config",t.config),r.data("settings-html",t["settings-html"]),this._fld.elementDrag.addItems(r)},getLayoutStructure:function(){var e=[],t=["config","id","type"];return this._fld.$tabContainer.children(".fld-tab").each(function(){var i=(0,a.default)(this),r=i.find(".tab span").text(),n=[];i.find(".fld-element").each(function(){var e=(0,a.default)(this),i={};t.filter(function(t){return"undefined"!=typeof e.data(t)}).forEach(function(t){i[t]=e.data(t)}),e.data("settings-html")&&(i["settings-html"]=e.data("settings-html").replace(/(id|for)="element-([0-9a-z]+)-([a-z-]+)/g,'$1="element-$2-'+Date.now()+"-$3")),n.push(i)}),e.push({name:r,elements:n})}),e}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),s=i(5),o=r(s),p=i(8),l=r(p),c=i(6),u=r(c),y={namespace:[]};t.default=l.default.extend({_templateNs:[],init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.base(t),t=Object.assign({},y,t);var i=this.getSettings();this._templateNs=u.default.parse(t.namespace),this.$container=this._generateGroup(i);var r=this.$container.find("[data-neo-g]");this.$nameText=r.filter('[data-neo-g="text.name"]'),this.$moveButton=r.filter('[data-neo-g="button.move"]'),i&&(i.on("change",function(){return e._updateTemplate()}),i.on("destroy",function(){return e.trigger("destroy")})),this.deselect()},_generateGroup:function(e){return(0,a.default)('\n      <div class="nc_sidebar_list_item type-heading">\n        <div class="label" data-neo-g="text.name">'+e.getName()+'</div>\n        <a class="move icon" title="'+o.default.t("neo","Reorder")+'" role="button" data-neo-g="button.move"></a>\n      </div>')},toggleSelect:function(e){this.base(e);var t=this.getSettings(),i=this.isSelected();t&&t.$container.toggleClass("hidden",!i),this.$container.toggleClass("is-selected",i)},_updateTemplate:function(){var e=this.getSettings();e&&this.$nameText.text(e.getName())}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),s=i(5),o=r(s),p=i(6),l=r(p),c=i(10),u=r(c),y={namespace:[],id:null,sortOrder:0,name:""};t.default=u.default.extend({_templateNs:[],$sortOrderInput:new a.default,$nameInput:new a.default,$handleInput:new a.default,$maxBlocksInput:new a.default,init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({},y,t),this._templateNs=l.default.parse(t.namespace),this._id=t.id,this.setSortOrder(t.sortOrder),this.setName(t.name),this.$container=this._generateGroupSettings();var i=this.$container.find("[data-neo-gs]");this.$sortOrderInput=i.filter('[data-neo-gs="input.sortOrder"]'),this.$nameInput=i.filter('[data-neo-gs="input.name"]'),this.$deleteButton=i.filter('[data-neo-gs="button.delete"]'),this.addListener(this.$nameInput,"keyup change",function(){return e.setName(e.$nameInput.val())}),this.addListener(this.$deleteButton,"click",function(){window.confirm(o.default.t("neo","Are you sure you want to delete this group?"))&&e.destroy()})},_generateGroupSettings:function(){l.default.enter(this._templateNs);var e=l.default.fieldName("sortOrder"),t=l.default.value("name","-"),i=l.default.fieldName("name");return l.default.leave(),(0,a.default)('\n      <div>\n      <input type="hidden" name="'+e+'" value="'+this.getSortOrder()+'" data-neo-gs="input.sortOrder">\n      <div>\n        '+this._input({type:"text",id:t,name:i,label:o.default.t("neo","Name"),instructions:o.default.t("neo","This can be left blank if you just want an unlabeled separator."),value:this.getName(),attributes:{"data-neo-gs":"input.name"}})+'\n      </div>\n      <hr>\n      <a class="error delete" data-neo-gs="button.delete">'+o.default.t("neo","Delete group")+"</a>\n    </div>")},getFocusInput:function(){return this.$nameInput},getId:function(){return this._id},setSortOrder:function(e){this.base(e),this.$sortOrderInput.val(this.getSortOrder())},getName:function(){return this._name},setName:function(e){if(e!==this._name){var t=this._name;this._name=e,this.$nameInput.val(this._name),this.trigger("change",{property:"name",oldValue:t,newValue:this._name})}}},{_totalNewGroups:0,getNewId:function(){return"new"+this._totalNewGroups++}})},function(e,t,i){var r=i(23);"string"==typeof r&&(r=[[e.id,r,""]]);i(25)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(24)(),t.push([e.id,'.neo-configurator>.field>.input{display:flex;min-height:400px}[data-neo="template.fld"]{display:none}.nc_sidebar{width:202px;border:1px solid #ebebeb;background-color:#fafafa}.nc_sidebar_title{padding:10px 24px;border-bottom:1px solid #ebebeb;background-image:linear-gradient(#f7f7f8,#f4f5f6);color:#8f98a3}.nc_sidebar_list{margin:0 -1px}.nc_sidebar_list:not(:empty){padding-top:10px}.nc_sidebar_list_item{cursor:default;position:relative;margin-top:-1px;padding:10px 40px;border:1px solid #ebebeb;background-color:#fcfcfc;transition:margin-left .15s}.nc_sidebar_list_item:before{content:"";display:block;position:absolute;top:-1px;bottom:-1px;left:0;width:0;border-top:1px solid #ebebeb;border-bottom:1px solid #ebebeb;background-color:#fafafa;transition:left .15s,width .15s}.nc_sidebar_list_item>.label{color:#29323d}.nc_sidebar_list_item>.label:empty{font-style:italic;color:#8f98a3}.nc_sidebar_list_item>.label:empty:before{content:"(blank)"}.nc_sidebar_list_item>.move,.nc_sidebar_list_item>.settings{position:absolute;width:25px;text-align:center}.nc_sidebar_list_item>.move{display:block;top:10px;left:7px}.nc_sidebar_list_item>.settings{display:inline-flex;top:13px;right:7px;color:rgba(41,50,61,.25)}.nc_sidebar_list_item>.settings:hover{color:#0d78f2}.nc_sidebar_list_item.is-selected{z-index:1;border-color:#dedede;background-color:#ececec}.nc_sidebar_list_item.is-child{margin-left:10px}.nc_sidebar_list_item.is-child:before{left:-10px;width:9px}.nc_sidebar_list_item.has-errors{z-index:2;border-color:#efc7c7;background-color:#f9e0e0}.nc_sidebar_list_item.has-errors>.label{color:#da5a47}.nc_sidebar_list_item.has-errors.is-selected{border-color:#e1bbbb;background-color:#efc7c7}.nc_sidebar_list_item.type-heading{margin-top:9px}.nc_sidebar_list_item.type-heading:first-child{margin-top:0}.nc_sidebar_list_item.type-heading>.label{font-size:11px;font-weight:700;text-transform:uppercase;color:rgba(63,77,90,.8)}.nc_sidebar_list_item.type-heading>.label:empty{font-weight:400;color:#8f98a3}.nc_sidebar_buttons{padding:14px}.nc_sidebar_buttons>.btn{padding-left:12px;padding-right:12px}.nc_sidebar_buttons>.btn.type-heading{font-size:11px;font-weight:700;text-transform:uppercase;color:rgba(63,77,90,.8)}.nc_main{flex-grow:1;flex-shrink:9999;border:1px solid #ebebeb}body.ltr .nc_main{border-left:0}body.rtl .nc_main{border-right:0}.nc_main_tabs{display:flex;border-bottom:1px solid #ebebeb;background-image:linear-gradient(#f7f7f8,#f4f5f6)}.nc_main_tabs_tab{display:block;padding:10px 24px;color:#555}.nc_main_tabs_tab:hover{text-decoration:none;color:#0d78f2}.nc_main_tabs_tab.is-selected{margin-bottom:-1px;padding-bottom:11px;border-left:1px solid #ebebeb;border-right:1px solid #ebebeb;background-color:#fff;color:#29323d}body.ltr .nc_main_tabs_tab.is-selected:first-child{border-left:0}body.rtl .nc_main_tabs_tab.is-selected:first-child{border-right:0}.nc_main_content{padding:24px}.nc_main_content .checkbox+label{color:#576575}.nc_main_content .checkbox+label:empty:after{content:"(blank)";font-size:inherit;font-style:italic;color:#8f98a3}body.ltr .nc_main_content .checkbox+label:empty{padding-left:20px}body.rtl .nc_main_content .checkbox+label:empty{padding-right:20px}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(r[a]=!0)}for(n=0;n<t.length;n++){var s=t[n];"number"==typeof s[0]&&r[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(e,t,i){function r(e,t){for(var i=0;i<e.length;i++){var r=e[i],n=d[r.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](r.parts[a]);for(;a<r.parts.length;a++)n.parts.push(l(r.parts[a],t))}else{for(var s=[],a=0;a<r.parts.length;a++)s.push(l(r.parts[a],t));d[r.id]={id:r.id,refs:1,parts:s}}}}function n(e){for(var t=[],i={},r=0;r<e.length;r++){var n=e[r],a=n[0],s=n[1],o=n[2],p=n[3],l={css:s,media:o,sourceMap:p};i[a]?i[a].parts.push(l):t.push(i[a]={id:a,parts:[l]})}return t}function a(e,t){var i=f(),r=x[x.length-1];if("top"===e.insertAt)r?r.nextSibling?i.insertBefore(t,r.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),x.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=x.indexOf(e);t>=0&&x.splice(t,1)}function o(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function p(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function l(e,t){var i,r,n;if(t.singleton){var a=v++;i=m||(m=o(t)),r=c.bind(null,i,a,!1),n=c.bind(null,i,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=p(t),r=y.bind(null,i),n=function(){s(i),i.href&&URL.revokeObjectURL(i.href)}):(i=o(t),r=u.bind(null,i),n=function(){s(i)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}function c(e,t,i,r){var n=i?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,n);else{var a=document.createTextNode(n),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function u(e,t){var i=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function y(e,t){var i=t.css,r=t.sourceMap;r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var n=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(n),a&&URL.revokeObjectURL(a)}var d={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},g=h(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),f=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,x=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=g()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var i=n(e);return r(i,t),function(e){for(var a=[],s=0;s<i.length;s++){var o=i[s],p=d[o.id];p.refs--,a.push(p)}if(e){var l=n(e);r(l,t)}for(var s=0;s<a.length;s++){var p=a[s];if(0===p.refs){for(var c=0;c<p.parts.length;c++)p.parts[c]();delete d[p.id]}}}};var w=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()}]);